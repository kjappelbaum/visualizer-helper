{
    "version": "2.121.2",
    "grid": {
      "layers": {
        "Default layer": {
          "name": "Default layer"
        },
        "Preferences": {
          "name": "Preferences"
        },
        "Calculations": {
          "name": "Calculations"
        },
        "Calculation admin": {
          "name": "Calculation admin"
        },
        "Calculations design": {
          "name": "Calculations design"
        },
        "Results reporting": {
          "name": "Results reporting"
        },
        "SaveLoadResults Admin": {
          "name": "SaveLoadResults Admin"
        },
        "Load and Process": {
          "name": "Load and Process"
        },
        "Test": {
          "name": "Test"
        }
      },
      "xWidth": 10,
      "yHeight": 10
    },
    "modules": [
      {
        "url": "modules/types/array_search/smart_array_filter/",
        "configuration": {
          "sections": {},
          "groups": {
            "group": [
              {
                "debounce": [
                  100
                ],
                "limit": [
                  0
                ],
                "initialValue": [
                  ""
                ],
                "placeholder": [
                  "Enter filter"
                ],
                "fontSize": [
                  20
                ]
              }
            ]
          }
        },
        "layers": {
          "Default layer": {
            "position": {
              "left": 0,
              "top": 10
            },
            "size": {
              "width": 27,
              "height": 6
            },
            "zIndex": 0,
            "display": true,
            "title": "Search specific entry",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Preferences": {
            "position": {
              "left": 0,
              "top": 10
            },
            "size": {
              "width": 27,
              "height": 6
            },
            "zIndex": 0,
            "display": false,
            "title": "Search specific entry",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Calculations": {
            "position": {
              "left": 0,
              "top": 10
            },
            "size": {
              "width": 27,
              "height": 6
            },
            "zIndex": 0,
            "display": false,
            "title": "Search specific entry",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Calculation admin": {
            "position": {
              "left": 0,
              "top": 10
            },
            "size": {
              "width": 27,
              "height": 6
            },
            "zIndex": 0,
            "display": false,
            "title": "Search specific entry",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Calculations design": {
            "position": {
              "left": 0,
              "top": 10
            },
            "size": {
              "width": 27,
              "height": 6
            },
            "zIndex": 0,
            "display": false,
            "title": "Search specific entry",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Results reporting": {
            "position": {
              "left": 0,
              "top": 10
            },
            "size": {
              "width": 27,
              "height": 6
            },
            "zIndex": 0,
            "display": false,
            "title": "Search specific entry",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "SaveLoadResults Admin": {
            "position": {
              "left": 0,
              "top": 10
            },
            "size": {
              "width": 27,
              "height": 6
            },
            "zIndex": 0,
            "display": false,
            "title": "Search specific entry",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Load and Process": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Load"
          },
          "Test": {
            "position": {
              "left": 0,
              "top": 10
            },
            "size": {
              "width": 27,
              "height": 6
            },
            "zIndex": 0,
            "display": false,
            "title": "Search specific entry",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          }
        },
        "id": 1,
        "vars_in": [
          {
            "rel": "input",
            "name": "sampleToc"
          }
        ],
        "actions_in": [
          {}
        ],
        "title": "Search specific entry",
        "vars_out": [
          {
            "event": "onQuery",
            "rel": "output",
            "jpath": [],
            "name": "sampleTocFiltered"
          }
        ],
        "actions_out": [
          {
            "jpath": []
          }
        ],
        "toolbar": {
          "custom": [
            [
              {
                "title": "",
                "icon": "",
                "action": "",
                "position": "begin",
                "color": [
                  100,
                  100,
                  100,
                  1
                ]
              }
            ]
          ],
          "common": [
            {
              "toolbar": [
                []
              ]
            }
          ]
        },
        "css": [
          {
            "fontSize": [
              ""
            ],
            "fontFamily": [
              ""
            ]
          }
        ],
        "zindex": 2
      },
      {
        "url": "modules/types/edition/slick_grid/",
        "configuration": {
          "sections": {},
          "groups": {
            "group": [
              {
                "slickCheck": [
                  [
                    "enableCellNavigation",
                    "rowNumbering",
                    "forceFitColumns",
                    "highlightScroll",
                    "editable",
                    "filterColumns"
                  ]
                ],
                "copyPaste": [
                  []
                ],
                "copyPasteOptions": [
                  [
                    "newRows"
                  ]
                ],
                "autoColumns": [
                  [
                    "select"
                  ]
                ],
                "toolbar": [
                  []
                ],
                "colorjpath": [
                  []
                ],
                "slick.defaultColumnWidth": [
                  null
                ],
                "slick.rowHeight": [
                  null
                ],
                "slick.headerRowHeight": [
                  30
                ],
                "slick.selectionModel": [
                  "row"
                ],
                "idProperty": [
                  ""
                ],
                "filterType": [
                  "pref"
                ],
                "filterRow": [
                  "// Documentation: https://github.com/NPellet/visualizer/blob/db85d9cc12c6204e4a3afb69bba6d695f6f8bad5/src/modules/types/edition/slick_grid/view.js#L918-L940"
                ],
                "customJpaths": [
                  ""
                ]
              }
            ],
            "cols": [
              [
                {
                  "name": "Reference",
                  "jpath": [
                    "value",
                    "reference"
                  ],
                  "editor": "none",
                  "forceType": "",
                  "formatter": "typerenderer",
                  "copyFormatter": "default",
                  "visibility": "both",
                  "rendererOptions": "",
                  "editorOptions": "",
                  "width": 205,
                  "hideColumn": []
                },
                {
                  "name": "Nb spectra",
                  "jpath": [
                    "value",
                    "nbSpectra"
                  ],
                  "editor": "none",
                  "forceType": "",
                  "formatter": "typerenderer",
                  "copyFormatter": "default",
                  "visibility": "both",
                  "rendererOptions": "",
                  "editorOptions": "",
                  "hideColumn": []
                }
              ]
            ],
            "actionCols": [
              [
                {
                  "name": "add",
                  "tooltip": "Add all spectra for this sample",
                  "icon": "fa-plus",
                  "backgroundColor": [
                    255,
                    255,
                    255,
                    1
                  ],
                  "color": [
                    0,
                    0,
                    0,
                    1
                  ],
                  "action": "addSample",
                  "position": "end",
                  "clickMode": "text",
                  "isAction": true
                }
              ]
            ],
            "groupings": [
              [
                {
                  "getter": []
                }
              ]
            ],
            "actionOutButtons": [
              [
                {}
              ]
            ],
            "data": [
              {
                "saveInView": [
                  []
                ],
                "varname": [
                  ""
                ],
                "data": [
                  "[]"
                ]
              }
            ]
          }
        },
        "layers": {
          "Default layer": {
            "position": {
              "left": 0,
              "top": 17
            },
            "size": {
              "width": 27,
              "height": 36
            },
            "zIndex": 0,
            "display": true,
            "title": "List of selected samples",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Preferences": {
            "position": {
              "left": 0,
              "top": 17
            },
            "size": {
              "width": 27,
              "height": 38
            },
            "zIndex": 0,
            "display": false,
            "title": "List of selected samples",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Calculations": {
            "position": {
              "left": 0,
              "top": 17
            },
            "size": {
              "width": 27,
              "height": 38
            },
            "zIndex": 0,
            "display": false,
            "title": "List of selected samples",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Calculation admin": {
            "position": {
              "left": 0,
              "top": 17
            },
            "size": {
              "width": 27,
              "height": 38
            },
            "zIndex": 0,
            "display": false,
            "title": "List of selected samples",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Calculations design": {
            "position": {
              "left": 0,
              "top": 17
            },
            "size": {
              "width": 27,
              "height": 38
            },
            "zIndex": 0,
            "display": false,
            "title": "List of selected samples",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Results reporting": {
            "position": {
              "left": 0,
              "top": 17
            },
            "size": {
              "width": 27,
              "height": 38
            },
            "zIndex": 0,
            "display": false,
            "title": "List of selected samples",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "SaveLoadResults Admin": {
            "position": {
              "left": 0,
              "top": 17
            },
            "size": {
              "width": 27,
              "height": 35
            },
            "zIndex": 0,
            "display": false,
            "title": "List of selected samples",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Load and Process": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Load"
          },
          "Test": {
            "position": {
              "left": 0,
              "top": 17
            },
            "size": {
              "width": 27,
              "height": 36
            },
            "zIndex": 0,
            "display": false,
            "title": "List of selected samples",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          }
        },
        "id": 2,
        "vars_in": [
          {
            "rel": "list",
            "name": "sampleTocFiltered"
          }
        ],
        "actions_in": [
          {}
        ],
        "title": "List of selected samples",
        "vars_out": [
          {
            "event": "onRowsSelect",
            "rel": "rows",
            "jpath": [],
            "name": "tocSelected"
          },
          {
            "event": "onRowActive",
            "rel": "row",
            "jpath": [],
            "name": "tocClicked"
          },
          {
            "event": "onHover",
            "rel": "row",
            "jpath": [],
            "name": "tocHovered"
          }
        ],
        "actions_out": [
          {
            "event": "onRowsSelect",
            "rel": "rows",
            "jpath": [],
            "name": "clickedSample"
          }
        ],
        "toolbar": {
          "custom": [
            [
              {
                "title": "Refresh",
                "icon": "fa-sync",
                "action": "refresh",
                "position": "begin",
                "color": [
                  100,
                  100,
                  100,
                  1
                ]
              },
              {
                "title": "Add selected",
                "icon": "fa-plus",
                "action": "addSelectedSamples",
                "position": "begin",
                "color": [
                  100,
                  100,
                  100,
                  1
                ]
              }
            ]
          ],
          "common": [
            {
              "toolbar": [
                []
              ]
            }
          ]
        },
        "zindex": 5,
        "css": [
          {
            "fontSize": [
              ""
            ],
            "fontFamily": [
              ""
            ]
          }
        ]
      },
      {
        "url": "modules/types/edition/onde/",
        "configuration": {
          "sections": {},
          "groups": {
            "group": [
              {
                "hasButton": [
                  []
                ],
                "button_text": [
                  "Export"
                ],
                "debouncing": [
                  0
                ],
                "output": [
                  "modified"
                ],
                "mode": [
                  "schema"
                ],
                "schemaSource": [
                  "variable"
                ],
                "schema": [
                  "{}"
                ],
                "onchangeFilter": [
                  null
                ]
              }
            ],
            "data": [
              {
                "saveInView": [
                  []
                ],
                "varname": [
                  ""
                ],
                "data": [
                  "{}"
                ]
              }
            ]
          }
        },
        "layers": {
          "Default layer": {
            "position": {
              "left": 6,
              "top": 1
            },
            "size": {
              "width": 21,
              "height": 6
            },
            "zIndex": 0,
            "display": true,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": false,
            "created": true,
            "name": "Default layer"
          },
          "Preferences": {
            "position": {
              "left": 6,
              "top": 1
            },
            "size": {
              "width": 21,
              "height": 6
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": false,
            "created": true,
            "name": "Default layer"
          },
          "Calculations": {
            "position": {
              "left": 6,
              "top": 1
            },
            "size": {
              "width": 21,
              "height": 6
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": false,
            "created": true,
            "name": "Default layer"
          },
          "Calculation admin": {
            "position": {
              "left": 6,
              "top": 1
            },
            "size": {
              "width": 21,
              "height": 6
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": false,
            "created": true,
            "name": "Default layer"
          },
          "Calculations design": {
            "position": {
              "left": 6,
              "top": 1
            },
            "size": {
              "width": 21,
              "height": 6
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": false,
            "created": true,
            "name": "Default layer"
          },
          "Results reporting": {
            "position": {
              "left": 6,
              "top": 1
            },
            "size": {
              "width": 21,
              "height": 6
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": false,
            "created": true,
            "name": "Default layer"
          },
          "SaveLoadResults Admin": {
            "position": {
              "left": 6,
              "top": 1
            },
            "size": {
              "width": 21,
              "height": 6
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": false,
            "created": true,
            "name": "Default layer"
          },
          "Load and Process": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Load"
          },
          "Test": {
            "position": {
              "left": 6,
              "top": 1
            },
            "size": {
              "width": 21,
              "height": 6
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": false,
            "created": true,
            "name": "Default layer"
          }
        },
        "id": 3,
        "vars_in": [
          {
            "rel": "schema",
            "name": "groupFormSchema"
          },
          {
            "rel": "inputValue",
            "name": "groupForm"
          }
        ],
        "actions_in": [
          {}
        ],
        "title": "",
        "actions_out": [
          {
            "jpath": []
          }
        ],
        "vars_out": [
          {
            "jpath": []
          }
        ],
        "toolbar": {
          "custom": [
            [
              {
                "title": "",
                "icon": "",
                "action": "",
                "position": "begin",
                "color": [
                  100,
                  100,
                  100,
                  1
                ]
              }
            ]
          ],
          "common": [
            {
              "toolbar": [
                [
                  "Open Preferences"
                ]
              ]
            }
          ]
        },
        "css": [
          {
            "fontSize": [
              ""
            ],
            "fontFamily": [
              ""
            ]
          }
        ],
        "zindex": 2
      },
      {
        "url": "modules/types/edition/onde/",
        "configuration": {
          "sections": {},
          "groups": {
            "group": [
              {
                "hasButton": [
                  []
                ],
                "button_text": [
                  "Export"
                ],
                "debouncing": [
                  0
                ],
                "output": [
                  "modified"
                ],
                "mode": [
                  "schema"
                ],
                "schemaSource": [
                  "variable"
                ],
                "schema": [
                  "{}"
                ],
                "onchangeFilter": [
                  null
                ]
              }
            ],
            "data": [
              {
                "saveInView": [
                  []
                ],
                "varname": [
                  ""
                ],
                "data": [
                  "{}"
                ]
              }
            ]
          }
        },
        "layers": {
          "Default layer": {
            "position": {
              "left": 6,
              "top": 6
            },
            "size": {
              "width": 21,
              "height": 6
            },
            "zIndex": 0,
            "display": true,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": false,
            "created": true,
            "name": "Default layer"
          },
          "Preferences": {
            "position": {
              "left": 6,
              "top": 6
            },
            "size": {
              "width": 21,
              "height": 6
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": false,
            "created": true,
            "name": "Default layer"
          },
          "Calculations": {
            "position": {
              "left": 6,
              "top": 6
            },
            "size": {
              "width": 21,
              "height": 6
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": false,
            "created": true,
            "name": "Default layer"
          },
          "Calculation admin": {
            "position": {
              "left": 6,
              "top": 6
            },
            "size": {
              "width": 21,
              "height": 6
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": false,
            "created": true,
            "name": "Default layer"
          },
          "Calculations design": {
            "position": {
              "left": 6,
              "top": 6
            },
            "size": {
              "width": 21,
              "height": 6
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": false,
            "created": true,
            "name": "Default layer"
          },
          "Results reporting": {
            "position": {
              "left": 6,
              "top": 6
            },
            "size": {
              "width": 21,
              "height": 6
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": false,
            "created": true,
            "name": "Default layer"
          },
          "SaveLoadResults Admin": {
            "position": {
              "left": 6,
              "top": 6
            },
            "size": {
              "width": 21,
              "height": 6
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": false,
            "created": true,
            "name": "Default layer"
          },
          "Load and Process": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Load"
          },
          "Test": {
            "position": {
              "left": 6,
              "top": 6
            },
            "size": {
              "width": 21,
              "height": 6
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": false,
            "created": true,
            "name": "Default layer"
          }
        },
        "id": 4,
        "vars_in": [
          {
            "rel": "schema",
            "name": "analysisKindSchema"
          },
          {
            "rel": "inputValue",
            "name": "analysisKind"
          }
        ],
        "actions_in": [
          {}
        ],
        "title": "",
        "actions_out": [
          {
            "jpath": []
          }
        ],
        "vars_out": [
          {
            "jpath": []
          }
        ],
        "toolbar": {
          "custom": [
            [
              {
                "title": "",
                "icon": "",
                "action": "",
                "position": "begin",
                "color": [
                  100,
                  100,
                  100,
                  1
                ]
              }
            ]
          ],
          "common": [
            {
              "toolbar": [
                [
                  "Open Preferences"
                ]
              ]
            }
          ]
        },
        "css": [
          {
            "fontSize": [
              ""
            ],
            "fontFamily": [
              ""
            ]
          }
        ],
        "zindex": 2
      },
      {
        "url": "modules/types/edition/slick_grid/",
        "configuration": {
          "sections": {},
          "groups": {
            "group": [
              {
                "slickCheck": [
                  [
                    "enableCellNavigation",
                    "rowNumbering",
                    "forceFitColumns",
                    "highlightScroll",
                    "editable"
                  ]
                ],
                "copyPaste": [
                  []
                ],
                "copyPasteOptions": [
                  [
                    "newRows"
                  ]
                ],
                "autoColumns": [
                  []
                ],
                "toolbar": [
                  []
                ],
                "colorjpath": [
                  []
                ],
                "slick.defaultColumnWidth": [
                  null
                ],
                "slick.rowHeight": [
                  null
                ],
                "slick.headerRowHeight": [
                  30
                ],
                "slick.selectionModel": [
                  "row"
                ],
                "idProperty": [
                  ""
                ],
                "filterType": [
                  "pref"
                ],
                "filterRow": [
                  "// Documentation: https://github.com/NPellet/visualizer/blob/db85d9cc12c6204e4a3afb69bba6d695f6f8bad5/src/modules/types/edition/slick_grid/view.js#L918-L940"
                ],
                "customJpaths": [
                  "jcamp.dUrl,pdf.dUrl,file.dUrl,jcamp.data,experiment,instrument"
                ]
              }
            ],
            "cols": [
              [
                {
                  "name": "Filename",
                  "jpath": [],
                  "editor": "none",
                  "forceType": "",
                  "formatter": "typerenderer",
                  "copyFormatter": "default",
                  "visibility": "both",
                  "rendererOptions": "twig:\"{{text.filename|slice[13:]}}{{jcamp.filename|slice[13:]}}{{file.filename|slice[13:]}}{{filename|slice[13:]}}{{txt.filename|slice[13:]}}\"",
                  "editorOptions": "",
                  "width": 91,
                  "hideColumn": []
                },
                {
                  "name": "Info",
                  "jpath": [
                    "info"
                  ],
                  "editor": "none",
                  "forceType": "",
                  "formatter": "typerenderer",
                  "copyFormatter": "default",
                  "visibility": "both",
                  "rendererOptions": "",
                  "editorOptions": "",
                  "hideColumn": []
                }
              ]
            ],
            "actionCols": [
              [
                {
                  "name": "Add",
                  "tooltip": "Add spectrum",
                  "icon": "fa-plus",
                  "backgroundColor": [
                    255,
                    255,
                    255,
                    1
                  ],
                  "color": [
                    0,
                    0,
                    0,
                    1
                  ],
                  "action": "addSpectrum",
                  "position": "end",
                  "clickMode": "background",
                  "isAction": true
                }
              ]
            ],
            "groupings": [
              [
                {
                  "getter": []
                }
              ]
            ],
            "actionOutButtons": [
              [
                {}
              ]
            ],
            "data": [
              {
                "saveInView": [
                  []
                ],
                "varname": [
                  ""
                ],
                "data": [
                  "[]"
                ]
              }
            ]
          }
        },
        "layers": {
          "Default layer": {
            "position": {
              "left": 0,
              "top": 54
            },
            "size": {
              "width": 27,
              "height": 23
            },
            "zIndex": 0,
            "display": true,
            "title": "Available spectra",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Preferences": {
            "position": {
              "left": 0,
              "top": 56
            },
            "size": {
              "width": 27,
              "height": 23
            },
            "zIndex": 0,
            "display": false,
            "title": "Available spectra",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Calculations": {
            "position": {
              "left": 0,
              "top": 56
            },
            "size": {
              "width": 27,
              "height": 23
            },
            "zIndex": 0,
            "display": false,
            "title": "Available spectra",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Calculation admin": {
            "position": {
              "left": 0,
              "top": 56
            },
            "size": {
              "width": 27,
              "height": 23
            },
            "zIndex": 0,
            "display": false,
            "title": "Available spectra",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Calculations design": {
            "position": {
              "left": 0,
              "top": 56
            },
            "size": {
              "width": 27,
              "height": 23
            },
            "zIndex": 0,
            "display": false,
            "title": "Available spectra",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Results reporting": {
            "position": {
              "left": 0,
              "top": 56
            },
            "size": {
              "width": 27,
              "height": 23
            },
            "zIndex": 0,
            "display": false,
            "title": "Available spectra",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "SaveLoadResults Admin": {
            "position": {
              "left": 0,
              "top": 53
            },
            "size": {
              "width": 27,
              "height": 23
            },
            "zIndex": 0,
            "display": false,
            "title": "Available spectra",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Load and Process": {
            "position": {
              "left": 0,
              "top": 59
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Load"
          },
          "Test": {
            "position": {
              "left": 0,
              "top": 54
            },
            "size": {
              "width": 27,
              "height": 23
            },
            "zIndex": 0,
            "display": false,
            "title": "Available spectra",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          }
        },
        "id": 5,
        "vars_in": [
          {
            "rel": "list",
            "name": "spectra"
          }
        ],
        "actions_in": [
          {
            "rel": "unsetActiveRow",
            "name": "unsetSelectedSpectrum"
          }
        ],
        "title": "Available spectra",
        "vars_out": [
          {
            "event": "onRowActive",
            "rel": "row",
            "jpath": [],
            "name": "oneSpectrum"
          }
        ],
        "actions_out": [
          {
            "jpath": []
          }
        ],
        "zindex": 7,
        "toolbar": {
          "custom": [
            [
              {
                "title": "Unselect",
                "icon": "fa-eraser",
                "action": "addSpectrum",
                "position": "begin",
                "color": [
                  100,
                  100,
                  100,
                  1
                ]
              }
            ]
          ],
          "common": [
            {
              "toolbar": [
                []
              ]
            }
          ]
        },
        "css": [
          {
            "fontSize": [
              ""
            ],
            "fontFamily": [
              ""
            ]
          }
        ]
      },
      {
        "url": "modules/types/client_interaction/code_executor/",
        "configuration": {
          "sections": {},
          "groups": {
            "group": [
              {
                "display": [
                  [
                    "editor",
                    "buttons"
                  ]
                ],
                "execOnLoad": [
                  []
                ],
                "asyncAwait": [
                  [
                    "top"
                  ]
                ],
                "script": [
                  "console.log(this.action);\nconst roc=API.cache('roc');\n\nconst spectraDataSet=API.cache('spectraDataSet');\n\nswitch (this.action.name) {\n    default:\n        await spectraDataSet.processAction(this.action);\n}\n\n"
                ]
              }
            ],
            "libs": [
              [
                {
                  "lib": "src/util/color",
                  "alias": "Color"
                },
                {
                  "lib": "vh/eln/libs",
                  "alias": "libs"
                }
              ]
            ],
            "buttons": [
              [
                {
                  "name": "button1",
                  "label": "Execute",
                  "hide": [],
                  "disable": []
                }
              ]
            ]
          }
        },
        "layers": {
          "Default layer": {
            "position": {
              "left": 32,
              "top": 0
            },
            "size": {
              "width": 84,
              "height": 32
            },
            "zIndex": 0,
            "display": false,
            "title": "Process all the actions",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Preferences": {
            "position": {
              "left": 32,
              "top": 0
            },
            "size": {
              "width": 84,
              "height": 32
            },
            "zIndex": 0,
            "display": false,
            "title": "Process all the actions",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Calculations": {
            "position": {
              "left": 32,
              "top": 0
            },
            "size": {
              "width": 84,
              "height": 32
            },
            "zIndex": 0,
            "display": false,
            "title": "Process all the actions",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Calculation admin": {
            "position": {
              "left": 32,
              "top": 0
            },
            "size": {
              "width": 84,
              "height": 32
            },
            "zIndex": 0,
            "display": false,
            "title": "Process all the actions",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Calculations design": {
            "position": {
              "left": 32,
              "top": 0
            },
            "size": {
              "width": 84,
              "height": 32
            },
            "zIndex": 0,
            "display": false,
            "title": "Process all the actions",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Results reporting": {
            "position": {
              "left": 32,
              "top": 0
            },
            "size": {
              "width": 84,
              "height": 32
            },
            "zIndex": 0,
            "display": false,
            "title": "Process all the actions",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "SaveLoadResults Admin": {
            "position": {
              "left": 32,
              "top": 0
            },
            "size": {
              "width": 84,
              "height": 32
            },
            "zIndex": 0,
            "display": false,
            "title": "Process all the actions",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Load and Process": {
            "position": {
              "left": 5,
              "top": 0
            },
            "size": {
              "width": 41,
              "height": 25
            },
            "zIndex": 0,
            "display": true,
            "title": "Process all the actions",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Load"
          },
          "Test": {
            "position": {
              "left": 32,
              "top": 0
            },
            "size": {
              "width": 84,
              "height": 32
            },
            "zIndex": 0,
            "display": false,
            "title": "Process all the actions",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          }
        },
        "id": 6,
        "vars_in": [
          {}
        ],
        "actions_in": [
          {
            "rel": "execute",
            "name": "clickedSample"
          },
          {
            "rel": "execute",
            "name": "addSelectedSamples"
          },
          {
            "rel": "execute",
            "name": "addSample"
          },
          {
            "rel": "execute",
            "name": "addSpectrum"
          },
          {
            "rel": "execute",
            "name": "refresh"
          },
          {
            "rel": "execute",
            "name": "clearSelectedSamples"
          },
          {
            "rel": "execute",
            "name": "addSpectraToSelection"
          },
          {
            "rel": "execute",
            "name": "selectCurrentSpectraSelection"
          },
          {
            "rel": "execute",
            "name": "hideSpectra"
          },
          {
            "rel": "execute",
            "name": "forceRecolor"
          },
          {
            "rel": "execute",
            "name": "selectAllSpectra"
          },
          {
            "rel": "execute",
            "name": "hideAllSpectra"
          },
          {
            "rel": "execute",
            "name": "selectCategory"
          }
        ],
        "vars_out": [
          {
            "jpath": []
          }
        ],
        "actions_out": [
          {
            "jpath": []
          }
        ],
        "toolbar": {
          "custom": [
            [
              {
                "title": "",
                "icon": "",
                "action": "",
                "position": "begin",
                "color": [
                  100,
                  100,
                  100,
                  1
                ]
              }
            ]
          ],
          "common": [
            {
              "toolbar": [
                [
                  "Open Preferences"
                ]
              ]
            }
          ]
        },
        "css": [
          {
            "fontSize": [
              ""
            ],
            "fontFamily": [
              ""
            ]
          }
        ],
        "title": "Process all the actions",
        "zindex": 2
      },
      {
        "url": "modules/types/display/template-twig/",
        "configuration": {
          "sections": {},
          "groups": {
            "group": [
              {
                "selectable": [
                  []
                ],
                "template": [
                  ""
                ],
                "modifyInForm": [
                  []
                ],
                "debouncing": [
                  0
                ],
                "formOptions": [
                  [
                    "keepFormValueIfDataUndefined"
                  ]
                ]
              }
            ]
          }
        },
        "layers": {
          "Default layer": {
            "position": {
              "left": 109,
              "top": 0
            },
            "size": {
              "width": 58,
              "height": 32
            },
            "zIndex": 0,
            "display": true,
            "title": "",
            "bgColor": [
              255,
              242,
              204,
              1
            ],
            "wrapper": false,
            "created": true,
            "name": "Default layer"
          },
          "Preferences": {
            "position": {
              "left": 117,
              "top": 0
            },
            "size": {
              "width": 53,
              "height": 10
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Calculations": {
            "position": {
              "left": 117,
              "top": 0
            },
            "size": {
              "width": 53,
              "height": 10
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Calculation admin": {
            "position": {
              "left": 117,
              "top": 0
            },
            "size": {
              "width": 53,
              "height": 10
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Calculations design": {
            "position": {
              "left": 117,
              "top": 0
            },
            "size": {
              "width": 53,
              "height": 10
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Results reporting": {
            "position": {
              "left": 117,
              "top": 0
            },
            "size": {
              "width": 53,
              "height": 10
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "SaveLoadResults Admin": {
            "position": {
              "left": 109,
              "top": 0
            },
            "size": {
              "width": 53,
              "height": 32
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Load and Process": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Load"
          },
          "Test": {
            "position": {
              "left": 109,
              "top": 0
            },
            "size": {
              "width": 58,
              "height": 32
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              242,
              204,
              1
            ],
            "wrapper": false,
            "created": true,
            "name": "Default layer"
          }
        },
        "id": 7,
        "vars_in": [
          {
            "rel": "tpl",
            "name": "twigTemplate"
          },
          {
            "rel": "value",
            "name": "tocHovered"
          }
        ],
        "actions_in": [
          {}
        ],
        "vars_out": [
          {
            "jpath": []
          }
        ],
        "actions_out": [
          {
            "jpath": []
          }
        ],
        "toolbar": {
          "custom": [
            [
              {
                "title": "",
                "icon": "",
                "action": "",
                "position": "begin",
                "color": [
                  100,
                  100,
                  100,
                  1
                ]
              }
            ]
          ],
          "common": [
            {
              "toolbar": [
                []
              ]
            }
          ]
        },
        "css": [
          {
            "fontSize": [
              ""
            ],
            "fontFamily": [
              ""
            ]
          }
        ],
        "title": "",
        "zindex": 2
      },
      {
        "url": "modules/types/edition/slick_grid/",
        "configuration": {
          "sections": {},
          "groups": {
            "group": [
              {
                "slickCheck": [
                  [
                    "enableCellNavigation",
                    "rowNumbering",
                    "forceFitColumns",
                    "highlightScroll",
                    "editable"
                  ]
                ],
                "copyPaste": [
                  []
                ],
                "copyPasteOptions": [
                  [
                    "newRows"
                  ]
                ],
                "autoColumns": [
                  [
                    "remove"
                  ]
                ],
                "toolbar": [
                  []
                ],
                "colorjpath": [
                  [
                    "bgcolor"
                  ]
                ],
                "slick.defaultColumnWidth": [
                  null
                ],
                "slick.rowHeight": [
                  null
                ],
                "slick.headerRowHeight": [
                  30
                ],
                "slick.selectionModel": [
                  "row"
                ],
                "idProperty": [
                  ""
                ],
                "filterType": [
                  "pref"
                ],
                "filterRow": [
                  ""
                ],
                "customJpaths": [
                  "jcamp.dUrl,pdf.dUrl,file.dUrl,jcamp.data,experiment,instrument"
                ]
              }
            ],
            "cols": [
              [
                {
                  "name": "Identifier",
                  "jpath": [
                    "id"
                  ],
                  "editor": "none",
                  "forceType": "",
                  "formatter": "typerenderer",
                  "copyFormatter": "default",
                  "visibility": "both",
                  "rendererOptions": "",
                  "editorOptions": "",
                  "width": 174,
                  "hideColumn": []
                },
                {
                  "name": "Category",
                  "jpath": [
                    "category"
                  ],
                  "editor": "string",
                  "forceType": "",
                  "formatter": "typerenderer",
                  "copyFormatter": "default",
                  "visibility": "both",
                  "rendererOptions": "",
                  "editorOptions": "",
                  "width": 198,
                  "hideColumn": []
                },
                {
                  "name": "Info",
                  "jpath": [
                    "info"
                  ],
                  "editor": "none",
                  "forceType": "",
                  "formatter": "typerenderer",
                  "copyFormatter": "default",
                  "visibility": "both",
                  "rendererOptions": "",
                  "editorOptions": "",
                  "width": 313,
                  "hideColumn": []
                },
                {
                  "name": "",
                  "jpath": [
                    "selected"
                  ],
                  "editor": "boolean",
                  "forceType": "boolean",
                  "formatter": "typerenderer",
                  "copyFormatter": "default",
                  "visibility": "both",
                  "rendererOptions": "",
                  "editorOptions": "",
                  "width": 30,
                  "hideColumn": []
                },
                {
                  "name": "Color",
                  "jpath": [
                    "color"
                  ],
                  "editor": "color",
                  "forceType": "color",
                  "formatter": "typerenderer",
                  "copyFormatter": "default",
                  "visibility": "both",
                  "rendererOptions": "",
                  "editorOptions": "",
                  "width": 40,
                  "minWidth": "40",
                  "maxWidth": "40",
                  "hideColumn": []
                }
              ]
            ],
            "actionCols": [
              [
                {
                  "backgroundColor": [
                    255,
                    255,
                    255,
                    0
                  ],
                  "color": [
                    0,
                    0,
                    0,
                    1
                  ],
                  "position": "end",
                  "clickMode": "text"
                }
              ]
            ],
            "groupings": [
              [
                {
                  "getter": []
                }
              ]
            ],
            "actionOutButtons": [
              [
                {}
              ]
            ],
            "data": [
              {
                "saveInView": [
                  []
                ],
                "varname": [
                  ""
                ],
                "data": [
                  "[]"
                ]
              }
            ]
          }
        },
        "layers": {
          "Default layer": {
            "position": {
              "left": 28,
              "top": 8
            },
            "size": {
              "width": 80,
              "height": 24
            },
            "zIndex": 0,
            "display": true,
            "title": "List of spectra in dataset",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Preferences": {
            "position": {
              "left": 117,
              "top": 11
            },
            "size": {
              "width": 52,
              "height": 26
            },
            "zIndex": 0,
            "display": false,
            "title": "List of spectra in dataset",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Calculations": {
            "position": {
              "left": 28,
              "top": 0
            },
            "size": {
              "width": 80,
              "height": 32
            },
            "zIndex": 0,
            "display": false,
            "title": "List of spectra in dataset",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Calculation admin": {
            "position": {
              "left": 28,
              "top": 0
            },
            "size": {
              "width": 80,
              "height": 32
            },
            "zIndex": 0,
            "display": false,
            "title": "List of spectra in dataset",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Calculations design": {
            "position": {
              "left": 28,
              "top": 0
            },
            "size": {
              "width": 80,
              "height": 32
            },
            "zIndex": 0,
            "display": false,
            "title": "List of spectra in dataset",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Results reporting": {
            "position": {
              "left": 28,
              "top": 0
            },
            "size": {
              "width": 80,
              "height": 32
            },
            "zIndex": 0,
            "display": false,
            "title": "List of spectra in dataset",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "SaveLoadResults Admin": {
            "position": {
              "left": 28,
              "top": 6
            },
            "size": {
              "width": 80,
              "height": 26
            },
            "zIndex": 0,
            "display": false,
            "title": "List of spectra in dataset",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Load and Process": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "List of spectra in dataset",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Load"
          },
          "Test": {
            "position": {
              "left": 28,
              "top": 8
            },
            "size": {
              "width": 80,
              "height": 24
            },
            "zIndex": 0,
            "display": false,
            "title": "List of spectra in dataset",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          }
        },
        "id": 8,
        "vars_in": [
          {
            "rel": "list",
            "name": "spectraInDataset"
          }
        ],
        "actions_in": [
          {}
        ],
        "title": "List of spectra in dataset",
        "vars_out": [
          {
            "event": "onHover",
            "rel": "row",
            "jpath": [
              "toc"
            ],
            "name": "tocHovered"
          },
          {
            "event": "onRowsSelect",
            "rel": "rows",
            "jpath": [],
            "name": "currentlySelectedSpectra"
          }
        ],
        "actions_out": [
          {
            "event": "onHover",
            "rel": "row",
            "jpath": [],
            "name": "hoverRow"
          }
        ],
        "zindex": 7,
        "toolbar": {
          "custom": [
            [
              {
                "title": "Clear selection",
                "icon": "fa-eraser",
                "action": "clearSelectedSamples",
                "position": "begin",
                "color": [
                  100,
                  100,
                  100,
                  1
                ]
              },
              {
                "title": "Select category",
                "icon": "fa-dot-circle",
                "action": "selectCategory",
                "position": "begin",
                "color": [
                  100,
                  100,
                  100,
                  1
                ]
              },
              {
                "title": "Download normalized matrix",
                "icon": "fa-download",
                "action": "downloadNormalizedMatrix",
                "position": "begin",
                "color": [
                  100,
                  100,
                  100,
                  1
                ]
              },
              {
                "title": "Recolor spectra based on category",
                "icon": "fa-palette",
                "action": "forceRecolor",
                "position": "begin",
                "color": [
                  103,
                  78,
                  167,
                  1
                ]
              },
              {
                "title": "Select all spectra",
                "icon": "fa-eye",
                "action": "selectAllSpectra",
                "position": "begin",
                "color": [
                  56,
                  118,
                  29,
                  1
                ]
              },
              {
                "title": "Append to selected spectra",
                "icon": "fa-plus",
                "action": "addSpectraToSelection",
                "position": "begin",
                "color": [
                  56,
                  118,
                  29,
                  1
                ]
              },
              {
                "title": "Select only current spectra",
                "icon": "fa-bullseye",
                "action": "selectCurrentSpectraSelection",
                "position": "begin",
                "color": [
                  180,
                  95,
                  6,
                  1
                ]
              },
              {
                "title": "Remove spectra from current selection",
                "icon": "fa-minus",
                "action": "hideSpectra",
                "position": "begin",
                "color": [
                  180,
                  95,
                  6,
                  1
                ]
              },
              {
                "title": "Unselect all spectra",
                "icon": "fa-eye-slash",
                "action": "hideAllSpectra",
                "position": "begin",
                "color": [
                  153,
                  0,
                  0,
                  1
                ]
              }
            ]
          ],
          "common": [
            {
              "toolbar": [
                []
              ]
            }
          ]
        },
        "css": [
          {
            "fontSize": [
              ""
            ],
            "fontFamily": [
              ""
            ]
          }
        ]
      },
      {
        "url": "modules/types/client_interaction/code_executor/",
        "configuration": {
          "sections": {},
          "groups": {
            "group": [
              {
                "display": [
                  [
                    "editor",
                    "buttons"
                  ]
                ],
                "execOnLoad": [
                  []
                ],
                "asyncAwait": [
                  [
                    "top"
                  ]
                ],
                "script": [
                  "const selectedSpectraModifications = await API.require('vh/eln/sample/ml/selectedSpectraModifications');\n\nselectedSpectraModifications();\n\n"
                ]
              }
            ],
            "libs": [
              [
                {}
              ]
            ],
            "buttons": [
              [
                {
                  "name": "button1",
                  "label": "Execute",
                  "hide": [],
                  "disable": []
                }
              ]
            ]
          }
        },
        "layers": {
          "Default layer": {
            "position": {
              "left": 32,
              "top": 33
            },
            "size": {
              "width": 43,
              "height": 40
            },
            "zIndex": 0,
            "display": false,
            "title": "Monitor modifications of spectraInDataset",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Preferences": {
            "position": {
              "left": 32,
              "top": 33
            },
            "size": {
              "width": 43,
              "height": 40
            },
            "zIndex": 0,
            "display": false,
            "title": "Monitor modifications of spectraInDataset",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Calculations": {
            "position": {
              "left": 32,
              "top": 33
            },
            "size": {
              "width": 43,
              "height": 40
            },
            "zIndex": 0,
            "display": false,
            "title": "Monitor modifications of spectraInDataset",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Calculation admin": {
            "position": {
              "left": 32,
              "top": 33
            },
            "size": {
              "width": 43,
              "height": 40
            },
            "zIndex": 0,
            "display": false,
            "title": "Monitor modifications of spectraInDataset",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Calculations design": {
            "position": {
              "left": 32,
              "top": 33
            },
            "size": {
              "width": 43,
              "height": 40
            },
            "zIndex": 0,
            "display": false,
            "title": "Monitor modifications of spectraInDataset",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Results reporting": {
            "position": {
              "left": 32,
              "top": 33
            },
            "size": {
              "width": 43,
              "height": 40
            },
            "zIndex": 0,
            "display": false,
            "title": "Monitor modifications of spectraInDataset",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "SaveLoadResults Admin": {
            "position": {
              "left": 32,
              "top": 33
            },
            "size": {
              "width": 43,
              "height": 40
            },
            "zIndex": 0,
            "display": false,
            "title": "Monitor modifications of spectraInDataset",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Load and Process": {
            "position": {
              "left": 88,
              "top": 2
            },
            "size": {
              "width": 79,
              "height": 19
            },
            "zIndex": 0,
            "display": true,
            "title": "Monitor modifications of spectraInDataset",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Load"
          },
          "Test": {
            "position": {
              "left": 32,
              "top": 33
            },
            "size": {
              "width": 43,
              "height": 40
            },
            "zIndex": 0,
            "display": false,
            "title": "Monitor modifications of spectraInDataset",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          }
        },
        "id": 9,
        "vars_in": [
          {
            "rel": "inputValue",
            "name": "spectraInDataset"
          }
        ],
        "actions_in": [
          {}
        ],
        "vars_out": [
          {
            "jpath": []
          }
        ],
        "actions_out": [
          {
            "jpath": []
          }
        ],
        "toolbar": {
          "custom": [
            [
              {
                "title": "",
                "icon": "",
                "action": "",
                "position": "begin",
                "color": [
                  100,
                  100,
                  100,
                  1
                ]
              }
            ]
          ],
          "common": [
            {
              "toolbar": [
                [
                  "Open Preferences"
                ]
              ]
            }
          ]
        },
        "css": [
          {
            "fontSize": [
              ""
            ],
            "fontFamily": [
              ""
            ]
          }
        ],
        "title": "Monitor modifications of spectraInDataset",
        "zindex": 2
      },
      {
        "url": "modules/types/science/spectra/spectra_displayer/",
        "configuration": {
          "sections": {
            "graph": [
              {
                "sections": {},
                "groups": {
                  "graph": [
                    {
                      "url": [
                        ""
                      ],
                      "zoom": [
                        "x"
                      ],
                      "wheelAction": [
                        "zoomY"
                      ],
                      "wheelbaseline": [
                        0
                      ],
                      "fullOut": [
                        "both"
                      ],
                      "legend": [
                        null
                      ],
                      "legendOptions": [
                        [
                          "isSerieHideable",
                          "isSerieSelectable"
                        ]
                      ],
                      "mouseTracking": [
                        [
                          "track"
                        ]
                      ],
                      "trackingAxis": [
                        "x"
                      ],
                      "selectScatter": [
                        []
                      ],
                      "independantYZoom": [
                        []
                      ]
                    }
                  ]
                }
              }
            ],
            "axis": [
              {
                "sections": {},
                "groups": {
                  "xAxis": [
                    {
                      "checkboxes": [
                        [
                          "display",
                          "flip",
                          "main",
                          "sec"
                        ]
                      ],
                      "label": [
                        "Wavelength [cm-1]"
                      ],
                      "beforeSpacing": [
                        "0"
                      ],
                      "afterSpacing": [
                        ""
                      ],
                      "min": [
                        ""
                      ],
                      "max": [
                        ""
                      ],
                      "nbTicksPrimary": [
                        5
                      ],
                      "axismodification": [
                        "none"
                      ]
                    }
                  ],
                  "yAxis": [
                    {
                      "checkboxes": [
                        [
                          "display",
                          "main",
                          "sec"
                        ]
                      ],
                      "label": [
                        "Absorbance"
                      ],
                      "beforeSpacing": [
                        "0"
                      ],
                      "afterSpacing": [
                        0
                      ],
                      "min": [
                        ""
                      ],
                      "max": [
                        ""
                      ],
                      "nbTicksPrimary": [
                        5
                      ],
                      "fitToAxisOnFromTo": [
                        []
                      ]
                    }
                  ]
                }
              }
            ],
            "series": [
              {
                "sections": {},
                "groups": {
                  "series": [
                    {
                      "overflow": [
                        []
                      ],
                      "stackVerticalSpacing": [
                        0
                      ]
                    }
                  ]
                }
              }
            ],
            "variables": [
              {
                "sections": {},
                "groups": {
                  "variables": [
                    [
                      {
                        "variable": "chart",
                        "axis": "0",
                        "adaptTo": "none",
                        "plotcolor": [
                          1,
                          1,
                          255,
                          1
                        ],
                        "strokewidth": "1",
                        "strokestyle": "1",
                        "plotcontinuous": "continuous",
                        "peakpicking": [],
                        "markers": [],
                        "markerShape": "1",
                        "markerSize": 2,
                        "normalize": "none",
                        "optimizeSlots": [],
                        "tracking": [
                          "yes"
                        ]
                      },
                      {
                        "variable": "autocorrelationChart",
                        "axis": "0",
                        "adaptTo": "none",
                        "plotcolor": [
                          1,
                          1,
                          255,
                          1
                        ],
                        "strokewidth": "1",
                        "strokestyle": "1",
                        "plotcontinuous": "continuous",
                        "peakpicking": [],
                        "markers": [],
                        "markerShape": "1",
                        "markerSize": 2,
                        "normalize": "none",
                        "optimizeSlots": [],
                        "tracking": [
                          "yes"
                        ]
                      }
                    ]
                  ]
                }
              }
            ],
            "misc": [
              {
                "sections": {},
                "groups": {
                  "misc": [
                    {
                      "highlightOptions": [
                        "{height:'100%', fill: 'rgba(255,255,0,0.2)'}"
                      ]
                    }
                  ]
                }
              }
            ]
          },
          "groups": {}
        },
        "layers": {
          "Default layer": {
            "position": {
              "left": 28,
              "top": 33
            },
            "size": {
              "width": 80,
              "height": 44
            },
            "zIndex": 0,
            "display": true,
            "title": "Create new range by pressing ALT and then click at the beginning and the end of the range.",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Preferences": {
            "position": {
              "left": 76,
              "top": 33
            },
            "size": {
              "width": 40,
              "height": 40
            },
            "zIndex": 0,
            "display": false,
            "title": "Create new range by pressing ALT and then click at the beginning and the end of the range.",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Calculations": {
            "position": {
              "left": 0,
              "top": 6
            },
            "size": {
              "width": 62,
              "height": 33
            },
            "zIndex": 0,
            "display": true,
            "title": "Create new range by pressing ALT and then click at the beginning and the end of the range.",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Calculation admin": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 62,
              "height": 47
            },
            "zIndex": 0,
            "display": false,
            "title": "Create new range by pressing ALT and then click at the beginning and the end of the range.",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Calculations design": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 62,
              "height": 33
            },
            "zIndex": 0,
            "display": false,
            "title": "Create new range by pressing ALT and then click at the beginning and the end of the range.",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Results reporting": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 62,
              "height": 33
            },
            "zIndex": 0,
            "display": false,
            "title": "Create new range by pressing ALT and then click at the beginning and the end of the range.",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "SaveLoadResults Admin": {
            "position": {
              "left": 28,
              "top": 33
            },
            "size": {
              "width": 80,
              "height": 43
            },
            "zIndex": 0,
            "display": false,
            "title": "Create new range by pressing ALT and then click at the beginning and the end of the range.",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Load and Process": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "Create new range by pressing ALT and then click at the beginning and the end of the range.",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Load"
          },
          "Test": {
            "position": {
              "left": 28,
              "top": 33
            },
            "size": {
              "width": 80,
              "height": 44
            },
            "zIndex": 0,
            "display": false,
            "title": "Create new range by pressing ALT and then click at the beginning and the end of the range.",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          }
        },
        "id": 10,
        "vars_in": [
          {
            "rel": "chart",
            "name": "chart"
          },
          {
            "rel": "annotations",
            "name": "filterAnnotations"
          },
          {
            "rel": "annotations",
            "name": "rangeAnnotations"
          },
          {
            "rel": "annotations",
            "name": "boxPlotAnnotations"
          },
          {
            "rel": "annotations",
            "name": "trackAnnotations"
          },
          {
            "rel": "chart",
            "name": "autocorrelationChart"
          }
        ],
        "actions_in": [
          {
            "rel": "_editPreferences",
            "name": "setChartPreferences"
          },
          {
            "rel": "exportSVG",
            "name": "TakeSVG"
          }
        ],
        "vars_out": [
          {
            "jpath": []
          }
        ],
        "actions_out": [
          {
            "event": "onTrackClick",
            "rel": "dataAndEvent",
            "jpath": [],
            "name": "trackClicked"
          },
          {
            "event": "onTrackMouse",
            "rel": "dataAndEvent",
            "jpath": [],
            "name": "trackMove"
          },
          {
            "event": "onExportSVG",
            "rel": "svgString",
            "jpath": [],
            "name": "SetSVG"
          }
        ],
        "toolbar": {
          "custom": [
            [
              {
                "title": "Take a snapshot for exportation",
                "icon": "fa-camera",
                "action": "TakeSVG",
                "position": "begin",
                "color": [
                  100,
                  100,
                  100,
                  1
                ]
              }
            ]
          ],
          "common": [
            {
              "toolbar": [
                [
                  "Show fullscreen",
                  "Print"
                ]
              ]
            }
          ]
        },
        "css": [
          {
            "fontSize": [
              ""
            ],
            "fontFamily": [
              ""
            ]
          }
        ],
        "title": "Create new range by pressing ALT and then click at the beginning and the end of the range.",
        "zindex": 2
      },
      {
        "url": "modules/types/display/template-twig/",
        "configuration": {
          "sections": {},
          "groups": {
            "group": [
              {
                "selectable": [
                  []
                ],
                "template": [
                  ""
                ],
                "modifyInForm": [
                  [
                    "yes"
                  ]
                ],
                "debouncing": [
                  500
                ],
                "formOptions": [
                  [
                    "keepFormValueIfDataUndefined"
                  ]
                ]
              }
            ]
          }
        },
        "layers": {
          "Default layer": {
            "position": {
              "left": 109,
              "top": 33
            },
            "size": {
              "width": 36,
              "height": 44
            },
            "zIndex": 0,
            "display": true,
            "title": "Preferences",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Preferences": {
            "position": {
              "left": 62,
              "top": 0
            },
            "size": {
              "width": 46,
              "height": 59
            },
            "zIndex": 0,
            "display": true,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Preferences"
          },
          "Calculations": {
            "position": {
              "left": 124,
              "top": 10
            },
            "size": {
              "width": 30,
              "height": 36
            },
            "zIndex": 0,
            "display": false,
            "title": "Preferences",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Calculation admin": {
            "position": {
              "left": 124,
              "top": 10
            },
            "size": {
              "width": 30,
              "height": 36
            },
            "zIndex": 0,
            "display": false,
            "title": "Preferences",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Calculations design": {
            "position": {
              "left": 124,
              "top": 10
            },
            "size": {
              "width": 30,
              "height": 36
            },
            "zIndex": 0,
            "display": false,
            "title": "Preferences",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Results reporting": {
            "position": {
              "left": 124,
              "top": 10
            },
            "size": {
              "width": 30,
              "height": 36
            },
            "zIndex": 0,
            "display": false,
            "title": "Preferences",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "SaveLoadResults Admin": {
            "position": {
              "left": 123,
              "top": 0
            },
            "size": {
              "width": 42,
              "height": 43
            },
            "zIndex": 0,
            "display": true,
            "title": "Preferences",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Load and Process": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Load"
          },
          "Test": {
            "position": {
              "left": 109,
              "top": 33
            },
            "size": {
              "width": 36,
              "height": 44
            },
            "zIndex": 0,
            "display": false,
            "title": "Preferences",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          }
        },
        "id": 11,
        "vars_in": [
          {
            "rel": "tpl",
            "name": "twigPreferences"
          },
          {
            "rel": "form",
            "name": "preferences"
          },
          {
            "rel": "value",
            "name": "ranges"
          },
          {
            "rel": "value",
            "name": "keepOriginal"
          }
        ],
        "actions_in": [
          {}
        ],
        "vars_out": [
          {
            "jpath": []
          }
        ],
        "actions_out": [
          {
            "event": "onFormChanged",
            "rel": "form",
            "jpath": [],
            "name": "changedPreferences"
          },
          {
            "event": "onFormSubmitted",
            "rel": "form",
            "jpath": [],
            "name": "UpdateChart"
          }
        ],
        "toolbar": {
          "custom": [
            [
              {
                "title": "Reload preferences",
                "icon": "fa-tasks",
                "action": "selectResultTemplate",
                "position": "begin",
                "color": [
                  100,
                  100,
                  100,
                  1
                ]
              },
              {
                "title": "Save preferences as template",
                "icon": "fa-save",
                "action": "saveResultTemplate",
                "position": "begin",
                "color": [
                  100,
                  100,
                  100,
                  1
                ]
              }
            ]
          ],
          "common": [
            {
              "toolbar": [
                []
              ]
            }
          ]
        },
        "css": [
          {
            "fontSize": [
              ""
            ],
            "fontFamily": [
              ""
            ]
          }
        ],
        "title": "Preferences",
        "zindex": 2
      },
      {
        "url": "modules/types/client_interaction/code_executor/",
        "configuration": {
          "sections": {},
          "groups": {
            "group": [
              {
                "display": [
                  [
                    "editor",
                    "buttons"
                  ]
                ],
                "execOnLoad": [
                  [
                    "yes"
                  ]
                ],
                "asyncAwait": [
                  [
                    "top"
                  ]
                ],
                "script": [
                  "console.log('Load and process', this.action, this.variable);\n\nconst recreateCharts = await API.require('vh/eln/sample/ml/recreateCharts');\n\nrecreateCharts(this.variable);\n"
                ]
              }
            ],
            "libs": [
              [
                {
                  "lib": "src/util/ui",
                  "alias": "UI"
                }
              ]
            ],
            "buttons": [
              [
                {
                  "name": "button1",
                  "label": "Update data and charts",
                  "hide": [],
                  "disable": []
                }
              ]
            ]
          }
        },
        "layers": {
          "Default layer": {
            "position": {
              "left": 111,
              "top": 27
            },
            "size": {
              "width": 24,
              "height": 5
            },
            "zIndex": 0,
            "display": false,
            "title": "Recreate the data and charts based on the preferences",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": false,
            "created": true,
            "name": "Default layer"
          },
          "Preferences": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "Recreate the data and charts based on the preferences",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Preferences"
          },
          "Calculations": {
            "position": {
              "left": 67,
              "top": 33
            },
            "size": {
              "width": 49,
              "height": 43
            },
            "zIndex": 0,
            "display": false,
            "title": "Recreate the data and charts based on the preferences",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Calculation admin": {
            "position": {
              "left": 67,
              "top": 33
            },
            "size": {
              "width": 49,
              "height": 43
            },
            "zIndex": 0,
            "display": false,
            "title": "Recreate the data and charts based on the preferences",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Calculations design": {
            "position": {
              "left": 67,
              "top": 33
            },
            "size": {
              "width": 49,
              "height": 43
            },
            "zIndex": 0,
            "display": false,
            "title": "Recreate the data and charts based on the preferences",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Results reporting": {
            "position": {
              "left": 67,
              "top": 33
            },
            "size": {
              "width": 49,
              "height": 43
            },
            "zIndex": 0,
            "display": false,
            "title": "Recreate the data and charts based on the preferences",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "SaveLoadResults Admin": {
            "position": {
              "left": 90,
              "top": -1
            },
            "size": {
              "width": 24,
              "height": 5
            },
            "zIndex": 0,
            "display": false,
            "title": "Recreate the data and charts based on the preferences",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": false,
            "created": true,
            "name": "Default layer"
          },
          "Load and Process": {
            "position": {
              "left": 88,
              "top": 22
            },
            "size": {
              "width": 79,
              "height": 29
            },
            "zIndex": 0,
            "display": true,
            "title": "Recreate the data and charts based on the preferences",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Load"
          },
          "Test": {
            "position": {
              "left": 111,
              "top": 27
            },
            "size": {
              "width": 24,
              "height": 5
            },
            "zIndex": 0,
            "display": false,
            "title": "Recreate the data and charts based on the preferences",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": false,
            "created": true,
            "name": "Default layer"
          }
        },
        "id": 12,
        "vars_in": [
          {
            "rel": "inputValue",
            "name": "preferences"
          }
        ],
        "actions_in": [
          {
            "rel": "execute",
            "name": "UpdateChart"
          }
        ],
        "vars_out": [
          {
            "jpath": []
          }
        ],
        "actions_out": [
          {
            "jpath": []
          }
        ],
        "toolbar": {
          "custom": [
            [
              {
                "title": "",
                "icon": "",
                "action": "",
                "position": "begin",
                "color": [
                  100,
                  100,
                  100,
                  1
                ]
              }
            ]
          ],
          "common": [
            {
              "toolbar": [
                [
                  "Open Preferences"
                ]
              ]
            }
          ]
        },
        "css": [
          {
            "fontSize": [
              ""
            ],
            "fontFamily": [
              ""
            ]
          }
        ],
        "title": "Recreate the data and charts based on the preferences",
        "zindex": 2
      },
      {
        "url": "modules/types/edition/slick_grid/",
        "configuration": {
          "sections": {},
          "groups": {
            "group": [
              {
                "slickCheck": [
                  [
                    "enableCellNavigation",
                    "rowNumbering",
                    "forceFitColumns",
                    "highlightScroll",
                    "forgetLastActive",
                    "editable",
                    "enableAddRow",
                    "autoEdit"
                  ]
                ],
                "copyPaste": [
                  []
                ],
                "copyPasteOptions": [
                  [
                    "newRows"
                  ]
                ],
                "autoColumns": [
                  [
                    "remove"
                  ]
                ],
                "toolbar": [
                  []
                ],
                "colorjpath": [
                  []
                ],
                "slick.defaultColumnWidth": [
                  null
                ],
                "slick.rowHeight": [
                  null
                ],
                "slick.headerRowHeight": [
                  30
                ],
                "slick.selectionModel": [
                  "row"
                ],
                "idProperty": [
                  ""
                ],
                "filterType": [
                  "pref"
                ],
                "filterRow": [
                  "// Documentation: https://github.com/NPellet/visualizer/blob/46b40ca86345f8fa313563bf9c6ecb80ba323101/src/modules/types/edition/slick_grid/view.js#L1695-L1735"
                ],
                "customJpaths": [
                  "from,to,label,description"
                ]
              }
            ],
            "cols": [
              [
                {
                  "name": "Label",
                  "jpath": [
                    "label"
                  ],
                  "editor": "string",
                  "forceType": "",
                  "formatter": "typerenderer",
                  "copyFormatter": "default",
                  "visibility": "both",
                  "rendererOptions": "",
                  "editorOptions": "",
                  "width": 69,
                  "hideColumn": []
                },
                {
                  "name": "From",
                  "jpath": [
                    "from"
                  ],
                  "editor": "number",
                  "forceType": "",
                  "formatter": "typerenderer",
                  "copyFormatter": "default",
                  "visibility": "both",
                  "rendererOptions": "toPrecision: 5",
                  "editorOptions": "",
                  "width": 64,
                  "hideColumn": []
                },
                {
                  "name": "To",
                  "jpath": [
                    "to"
                  ],
                  "editor": "number",
                  "forceType": "",
                  "formatter": "typerenderer",
                  "copyFormatter": "default",
                  "visibility": "both",
                  "rendererOptions": "toPrecision: 5",
                  "editorOptions": "",
                  "width": 57,
                  "hideColumn": []
                },
                {
                  "name": "Description",
                  "jpath": [
                    "description"
                  ],
                  "editor": "string",
                  "forceType": "",
                  "formatter": "typerenderer",
                  "copyFormatter": "default",
                  "visibility": "both",
                  "rendererOptions": "",
                  "editorOptions": "",
                  "width": 161,
                  "hideColumn": []
                }
              ]
            ],
            "actionCols": [
              [
                {
                  "backgroundColor": [
                    255,
                    255,
                    255,
                    0
                  ],
                  "color": [
                    0,
                    0,
                    0,
                    1
                  ],
                  "position": "end",
                  "clickMode": "text"
                }
              ]
            ],
            "groupings": [
              [
                {
                  "getter": []
                }
              ]
            ],
            "actionOutButtons": [
              [
                {}
              ]
            ],
            "data": [
              {
                "saveInView": [
                  []
                ],
                "varname": [
                  ""
                ],
                "data": [
                  "[]"
                ]
              }
            ]
          }
        },
        "layers": {
          "Default layer": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Preferences": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Preferences"
          },
          "Calculations": {
            "position": {
              "left": 0,
              "top": 44
            },
            "size": {
              "width": 62,
              "height": 20
            },
            "zIndex": 0,
            "display": true,
            "title": "List of ranges",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculations"
          },
          "Calculation admin": {
            "position": {
              "left": 63,
              "top": 0
            },
            "size": {
              "width": 35,
              "height": 33
            },
            "zIndex": 0,
            "display": false,
            "title": "List of ranges",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculations"
          },
          "Calculations design": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 35,
              "height": 33
            },
            "zIndex": 0,
            "display": false,
            "title": "List of ranges",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculations"
          },
          "Results reporting": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 35,
              "height": 33
            },
            "zIndex": 0,
            "display": false,
            "title": "List of ranges",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculations"
          },
          "SaveLoadResults Admin": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Load and Process": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Load"
          },
          "Test": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          }
        },
        "id": 13,
        "vars_in": [
          {
            "rel": "list",
            "name": "ranges"
          }
        ],
        "actions_in": [
          {}
        ],
        "actions_out": [
          {
            "jpath": []
          }
        ],
        "vars_out": [
          {
            "jpath": []
          }
        ],
        "toolbar": {
          "custom": [
            [
              {
                "title": "",
                "icon": "",
                "action": "",
                "position": "begin",
                "color": [
                  100,
                  100,
                  100,
                  1
                ]
              }
            ]
          ],
          "common": [
            {
              "toolbar": [
                [
                  "Export Data"
                ]
              ]
            }
          ]
        },
        "css": [
          {
            "fontSize": [
              ""
            ],
            "fontFamily": [
              ""
            ]
          }
        ],
        "title": "List of ranges",
        "zindex": 2
      },
      {
        "url": "modules/types/client_interaction/code_executor/",
        "configuration": {
          "sections": {},
          "groups": {
            "group": [
              {
                "display": [
                  [
                    "editor",
                    "buttons"
                  ]
                ],
                "execOnLoad": [
                  []
                ],
                "asyncAwait": [
                  [
                    "top"
                  ]
                ],
                "script": [
                  "const rangesManager=API.cache('rangesManager');\n\nif (this.action) {\n    rangesManager.processAction(this.action);\n}\n\nif (this.variable) {\n    switch (this.variable) {\n        case 'ranges': \n            rangesManager.updateAnnotations();\n            break;\n    }\n}\n\n"
                ]
              }
            ],
            "libs": [
              [
                {}
              ]
            ],
            "buttons": [
              [
                {
                  "name": "button1",
                  "label": "Execute",
                  "hide": [],
                  "disable": []
                }
              ]
            ]
          }
        },
        "layers": {
          "Default layer": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "Manage the actions to deal with ranges",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Preferences": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "Manage the actions to deal with ranges",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Preferences"
          },
          "Calculations": {
            "position": {
              "left": 99,
              "top": 0
            },
            "size": {
              "width": 47,
              "height": 33
            },
            "zIndex": 0,
            "display": false,
            "title": "Manage the actions to deal with ranges",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculations"
          },
          "Calculation admin": {
            "position": {
              "left": 6,
              "top": 0
            },
            "size": {
              "width": 47,
              "height": 33
            },
            "zIndex": 0,
            "display": true,
            "title": "Manage the actions to deal with ranges",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculations"
          },
          "Calculations design": {
            "position": {
              "left": 99,
              "top": 0
            },
            "size": {
              "width": 47,
              "height": 33
            },
            "zIndex": 0,
            "display": false,
            "title": "Manage the actions to deal with ranges",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculations"
          },
          "Results reporting": {
            "position": {
              "left": 99,
              "top": 0
            },
            "size": {
              "width": 47,
              "height": 33
            },
            "zIndex": 0,
            "display": false,
            "title": "Manage the actions to deal with ranges",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculations"
          },
          "SaveLoadResults Admin": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "Manage the actions to deal with ranges",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Load and Process": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "Manage the actions to deal with ranges",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Load"
          },
          "Test": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "Manage the actions to deal with ranges",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          }
        },
        "id": 14,
        "vars_in": [
          {
            "rel": "inputValue",
            "name": "ranges"
          }
        ],
        "actions_in": [
          {
            "rel": "execute",
            "name": "trackClicked"
          },
          {
            "rel": "execute",
            "name": "trackMove"
          },
          {
            "rel": "execute",
            "name": "newZone"
          },
          {
            "rel": "execute",
            "name": "unselectZone"
          },
          {
            "rel": "execute",
            "name": "rowChanged"
          }
        ],
        "vars_out": [
          {
            "jpath": []
          }
        ],
        "actions_out": [
          {
            "jpath": []
          }
        ],
        "toolbar": {
          "custom": [
            [
              {
                "title": "",
                "icon": "",
                "action": "",
                "position": "begin",
                "color": [
                  100,
                  100,
                  100,
                  1
                ]
              }
            ]
          ],
          "common": [
            {
              "toolbar": [
                [
                  "Open Preferences"
                ]
              ]
            }
          ]
        },
        "css": [
          {
            "fontSize": [
              ""
            ],
            "fontFamily": [
              ""
            ]
          }
        ],
        "title": "Manage the actions to deal with ranges",
        "zindex": 2
      },
      {
        "url": "modules/types/client_interaction/code_executor/",
        "configuration": {
          "sections": {},
          "groups": {
            "group": [
              {
                "display": [
                  [
                    "editor",
                    "buttons"
                  ]
                ],
                "execOnLoad": [
                  []
                ],
                "asyncAwait": [
                  [
                    "top"
                  ]
                ],
                "script": [
                  "console.log('Calculate results');\n\nconst spectra=JSON.parse(JSON.stringify(API.getData('spectraInDataset')));\n\nconst ranges=API.getData('ranges').resurrect();\nconst spectraProcessor=API.cache('spectraProcessor');\n\nspectraProcessor.updateRangesInfo(ranges);\n\n// we prepare the data\nfor (let spectrum of spectra) {\n    let processorSpectrum=spectraProcessor.getSpectrum(spectrum.id);\n    if (processorSpectrum) {\n        spectrum.ranges=processorSpectrum.ranges;\n        spectrum.xy={\n            x: processorSpectrum.normalized.x,\n            y: processorSpectrum.normalized.y\n        }\n        if (spectrum.toc) spectrum.toc=spectrum.toc.value;   \n    }\n    delete spectrum._highlight;\n    spectrum.results={};\n}\n\nlet templateID = API.getData('currentTemplateResults') && API.getData('currentTemplateResults').$id && API.getData('currentTemplateResults').$id[3];\n\n\nlet chart = getChart();\n\nlet data = {\n    spectra,\n    report: {},\n    user: API.cache('userInfo'),\n    description: API.getData('description'),\n    templateID,\n    chart,\n    svg: {\n        type: 'svg',\n        value: API.getData('svg')\n    }\n}\n\nconst code=`{\n    ${API.getData('code')}\n}`;\n\nconst fct = new Function('data', 'Color', code);\n\nAPI.createData('results', []);\n\ntry {\n    fct(data, Color);\n} catch (e) {\n    let line=e.stack.split('\\n')[1].replace(/.*:(.*):.*/,'$1')-3;\n    let message=`line ${line} - ${e.name}: ${e.message}`\n    UI.showNotification(message, 'warning');\n}\n\nAPI.createData('data', data);\n\n// API.createData('dataSample', data);\nAPI.createData('dataSample', cloneDeepLimitArray(data.resurrect()))\n\n\nfunction getChart() {\n    let chart=JSON.parse(JSON.stringify(API.getData('chart')));\n    let preferences=API.getData('preferences').resurrect();\n    chart={series: chart.data.map( entry => {return {\n        type: 'line',\n        data: {x:entry.x, y:entry.y},\n        style: {\n            line: {\n                color: entry.styles.unselected.lineColor\n            }\n        }\n    }})};\n    \n    const spectraDataSet=API.cache('spectraDataSet');\n    const chartPrefs = spectraDataSet.getChartPrefs();\n    chart.axes={\n        x: {\n            label: chartPrefs.xLabel,\n            flipped: chartPrefs.displayXAxis.includes('flip'),\n            forcedMin: preferences.normalization.from,\n            forcedMax: preferences.normalization.to,\n        },\n        y: {\n            label: chartPrefs.yLabel,\n            flipped: chartPrefs.displayYAxis.includes('flip'),\n        }\n    }\n    \n    chart.annotations=[];\n    \n    if (API.getData('rangeAnnotations')) {\n        for (let annotation of JSON.parse(JSON.stringify(API.getData('rangeAnnotations')))) {\n            chart.annotations.push({\n                type: annotation.type,\n                properties: annotation\n            })\n        }\n    }\n    \n    if (API.getData('filterAnnotations')) {\n        for (let annotation of JSON.parse(JSON.stringify(API.getData('filterAnnotations')))) {\n            chart.annotations.push({\n                type: annotation.type,\n                properties: annotation\n            })\n        }\n    }\n    return chart;\n}"
                ]
              }
            ],
            "libs": [
              [
                {
                  "lib": "src/util/ui",
                  "alias": "UI"
                },
                {
                  "lib": "src/util/color",
                  "alias": "Color"
                },
                {
                  "lib": "vh/util/cloneDeepLimitArray",
                  "alias": "cloneDeepLimitArray"
                }
              ]
            ],
            "buttons": [
              [
                {
                  "name": "button1",
                  "label": "Execute",
                  "hide": [],
                  "disable": []
                }
              ]
            ]
          }
        },
        "layers": {
          "Default layer": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "Execute the script on all selected spectra",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Preferences": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "Execute the script on all selected spectra",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Preferences"
          },
          "Calculations": {
            "position": {
              "left": 111,
              "top": 34
            },
            "size": {
              "width": 47,
              "height": 44
            },
            "zIndex": 0,
            "display": false,
            "title": "Execute the script on all selected spectra",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculations"
          },
          "Calculation admin": {
            "position": {
              "left": 54,
              "top": 0
            },
            "size": {
              "width": 88,
              "height": 55
            },
            "zIndex": 0,
            "display": true,
            "title": "Execute the script on all selected spectra",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculations"
          },
          "Calculations design": {
            "position": {
              "left": 111,
              "top": 34
            },
            "size": {
              "width": 47,
              "height": 44
            },
            "zIndex": 0,
            "display": false,
            "title": "Execute the script on all selected spectra",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculations"
          },
          "Results reporting": {
            "position": {
              "left": 111,
              "top": 34
            },
            "size": {
              "width": 47,
              "height": 44
            },
            "zIndex": 0,
            "display": false,
            "title": "Execute the script on all selected spectra",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculations"
          },
          "SaveLoadResults Admin": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "Execute the script on all selected spectra",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Load and Process": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "Execute the script on all selected spectra",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Load"
          },
          "Test": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "Execute the script on all selected spectra",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          }
        },
        "id": 15,
        "vars_in": [
          {
            "rel": "inputValue",
            "name": "svg"
          }
        ],
        "actions_in": [
          {
            "rel": "execute",
            "name": "CalculateResults"
          }
        ],
        "vars_out": [
          {
            "jpath": []
          }
        ],
        "actions_out": [
          {
            "jpath": []
          }
        ],
        "toolbar": {
          "custom": [
            [
              {
                "title": "",
                "icon": "",
                "action": "",
                "position": "begin",
                "color": [
                  100,
                  100,
                  100,
                  1
                ]
              }
            ]
          ],
          "common": [
            {
              "toolbar": [
                [
                  "Open Preferences"
                ]
              ]
            }
          ]
        },
        "css": [
          {
            "fontSize": [
              ""
            ],
            "fontFamily": [
              ""
            ]
          }
        ],
        "title": "Execute the script on all selected spectra",
        "zindex": 2
      },
      {
        "url": "modules/types/client_interaction/code_editor/",
        "configuration": {
          "sections": {},
          "groups": {
            "group": [
              {
                "mode": [
                  "javascript"
                ],
                "outputType": [
                  null
                ],
                "btnvalue": [
                  "Recalculate"
                ],
                "iseditable": [
                  [
                    "editable"
                  ]
                ],
                "hasButton": [
                  [
                    "button"
                  ]
                ],
                "variable": [
                  [
                    "modify"
                  ]
                ],
                "storeOnChange": [
                  []
                ],
                "debouncing": [
                  0
                ],
                "script": [
                  ""
                ]
              }
            ],
            "ace": [
              {
                "useSoftTabs": [
                  [
                    "yes"
                  ]
                ],
                "tabSize": [
                  4
                ]
              }
            ]
          }
        },
        "layers": {
          "Default layer": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "Create a JSON from the data variable",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Preferences": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Preferences"
          },
          "Calculations": {
            "position": {
              "left": 43,
              "top": 39
            },
            "size": {
              "width": 19,
              "height": 4
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": false,
            "created": true,
            "name": "Calculations"
          },
          "Calculation admin": {
            "position": {
              "left": 54,
              "top": 56
            },
            "size": {
              "width": 88,
              "height": 25
            },
            "zIndex": 0,
            "display": true,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculations"
          },
          "Calculations design": {
            "position": {
              "left": 25,
              "top": 6
            },
            "size": {
              "width": 75,
              "height": 65
            },
            "zIndex": 0,
            "display": true,
            "title": "Create a JSON from the data variable",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculations"
          },
          "Results reporting": {
            "position": {
              "left": 24,
              "top": 0
            },
            "size": {
              "width": 47,
              "height": 42
            },
            "zIndex": 0,
            "display": false,
            "title": "Create a JSON from the data variable",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculations"
          },
          "SaveLoadResults Admin": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Load and Process": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Load"
          },
          "Test": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "Create a JSON from the data variable",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          }
        },
        "id": 16,
        "vars_in": [
          {
            "rel": "data",
            "name": "code"
          }
        ],
        "actions_in": [
          {}
        ],
        "vars_out": [
          {
            "jpath": []
          }
        ],
        "actions_out": [
          {
            "event": "onButtonClick",
            "rel": "data",
            "jpath": [],
            "name": "CalculateResults"
          }
        ],
        "toolbar": {
          "custom": [
            [
              {
                "title": "",
                "icon": "",
                "action": "",
                "position": "begin",
                "color": [
                  100,
                  100,
                  100,
                  1
                ]
              }
            ]
          ],
          "common": [
            {
              "toolbar": [
                [
                  "Show fullscreen"
                ]
              ]
            }
          ]
        },
        "css": [
          {
            "fontSize": [
              ""
            ],
            "fontFamily": [
              ""
            ]
          }
        ],
        "title": "Create a JSON from the data variable",
        "zindex": 2
      },
      {
        "url": "modules/types/client_interaction/code_executor/",
        "configuration": {
          "sections": {},
          "groups": {
            "group": [
              {
                "display": [
                  [
                    "editor",
                    "buttons"
                  ]
                ],
                "execOnLoad": [
                  [
                    "yes"
                  ]
                ],
                "asyncAwait": [
                  [
                    "top"
                  ]
                ],
                "script": [
                  "if (! this.button) this.button='default';\n\nvar layers={\n    'default': {\n        layer:'Default layer'\n    },\n    'calculations': {\n        layer: 'Calculations',\n        callback: () => {\n            API.doAction('CalculateResults');\n        }\n    },\n    'calculationsDesign': {\n        layer: 'Calculations design',\n        callback: () => {\n            API.doAction('CalculateResults');\n        }\n    },\n    'resultsReport': {\n        layer: 'Results reporting',\n        callback: () => {\n            API.doAction('CalculateResults');\n            API.getData('reportTemplate').triggerChange();\n        }\n    },\n}\n\nif (layers[this.button]) {\n    for (var key of Object.keys(layers)) {\n        this.enableButton(key);\n    }\n    API.switchToLayer(layers[this.button].layer);\n    if (layers[this.button].callback) {\n        layers[this.button].callback();\n    }\n    this.disableButton(this.button);\n}\n\n\n"
                ]
              }
            ],
            "libs": [
              [
                {}
              ]
            ],
            "buttons": [
              [
                {
                  "name": "default",
                  "label": "Home",
                  "hide": [],
                  "disable": []
                },
                {
                  "name": "calculations",
                  "label": "Check results",
                  "hide": [],
                  "disable": []
                },
                {
                  "name": "calculationsDesign",
                  "label": "Edit calculations",
                  "hide": [],
                  "disable": []
                },
                {
                  "name": "resultsReport",
                  "label": "Edit report",
                  "hide": [],
                  "disable": []
                }
              ]
            ]
          }
        },
        "layers": {
          "Default layer": {
            "position": {
              "left": 28,
              "top": 0
            },
            "size": {
              "width": 70,
              "height": 5
            },
            "zIndex": 0,
            "display": true,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": false,
            "created": true,
            "name": "Default layer"
          },
          "Preferences": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": false,
            "created": true,
            "name": "Preferences"
          },
          "Calculations": {
            "position": {
              "left": 28,
              "top": 0
            },
            "size": {
              "width": 61,
              "height": 5
            },
            "zIndex": 0,
            "display": true,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": false,
            "created": true,
            "name": "Calculations"
          },
          "Calculation admin": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": false,
            "created": true,
            "name": "Calculations"
          },
          "Calculations design": {
            "position": {
              "left": 28,
              "top": 0
            },
            "size": {
              "width": 61,
              "height": 5
            },
            "zIndex": 0,
            "display": true,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": false,
            "created": true,
            "name": "Calculations"
          },
          "Results reporting": {
            "position": {
              "left": 28,
              "top": 0
            },
            "size": {
              "width": 61,
              "height": 5
            },
            "zIndex": 0,
            "display": true,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": false,
            "created": true,
            "name": "Calculations"
          },
          "SaveLoadResults Admin": {
            "position": {
              "left": 28,
              "top": 0
            },
            "size": {
              "width": 61,
              "height": 5
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": false,
            "created": true,
            "name": "Default layer"
          },
          "Load and Process": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": false,
            "created": true,
            "name": "Load"
          },
          "Test": {
            "position": {
              "left": 28,
              "top": 0
            },
            "size": {
              "width": 70,
              "height": 5
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": false,
            "created": true,
            "name": "Default layer"
          }
        },
        "id": 17,
        "vars_in": [
          {}
        ],
        "actions_in": [
          {}
        ],
        "vars_out": [
          {
            "jpath": []
          }
        ],
        "actions_out": [
          {
            "jpath": []
          }
        ],
        "toolbar": {
          "custom": [
            [
              {
                "title": "",
                "icon": "",
                "action": "",
                "position": "begin",
                "color": [
                  100,
                  100,
                  100,
                  1
                ]
              }
            ]
          ],
          "common": [
            {
              "toolbar": [
                [
                  "Open Preferences"
                ]
              ]
            }
          ]
        },
        "css": [
          {
            "fontSize": [
              ""
            ],
            "fontFamily": [
              ""
            ]
          }
        ],
        "title": "",
        "zindex": 2
      },
      {
        "url": "modules/types/edition/object_editor/",
        "configuration": {
          "sections": {},
          "groups": {
            "group": [
              {
                "editable": [
                  "view"
                ],
                "expanded": [
                  []
                ],
                "storeObject": [
                  []
                ],
                "displayValue": [
                  []
                ],
                "searchBox": [
                  [
                    "search"
                  ]
                ],
                "sendButton": [
                  []
                ],
                "output": [
                  "new"
                ],
                "storedObject": [
                  "{}"
                ]
              }
            ]
          }
        },
        "layers": {
          "Default layer": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Preferences": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Preferences"
          },
          "Calculations": {
            "position": {
              "left": 63,
              "top": 60
            },
            "size": {
              "width": 45,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculations"
          },
          "Calculation admin": {
            "position": {
              "left": 143,
              "top": 0
            },
            "size": {
              "width": 45,
              "height": 81
            },
            "zIndex": 0,
            "display": true,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculations"
          },
          "Calculations design": {
            "position": {
              "left": 101,
              "top": 6
            },
            "size": {
              "width": 37,
              "height": 65
            },
            "zIndex": 0,
            "display": true,
            "title": "Content of 'data' variable",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculations"
          },
          "Results reporting": {
            "position": {
              "left": 133,
              "top": 7
            },
            "size": {
              "width": 42,
              "height": 65
            },
            "zIndex": 0,
            "display": true,
            "title": "Content of 'data' variable",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculations"
          },
          "SaveLoadResults Admin": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Load and Process": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Load"
          },
          "Test": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          }
        },
        "id": 18,
        "vars_in": [
          {
            "rel": "value",
            "name": "dataSample"
          }
        ],
        "actions_in": [
          {}
        ],
        "vars_out": [
          {
            "jpath": []
          }
        ],
        "actions_out": [
          {
            "jpath": []
          }
        ],
        "toolbar": {
          "custom": [
            [
              {
                "title": "",
                "icon": "",
                "action": "",
                "position": "begin",
                "color": [
                  100,
                  100,
                  100,
                  1
                ]
              }
            ]
          ],
          "common": [
            {
              "toolbar": [
                []
              ]
            }
          ]
        },
        "css": [
          {
            "fontSize": [
              ""
            ],
            "fontFamily": [
              ""
            ]
          }
        ],
        "title": "Content of 'data' variable",
        "zindex": 2
      },
      {
        "url": "modules/types/edition/slick_grid/",
        "configuration": {
          "sections": {},
          "groups": {
            "group": [
              {
                "slickCheck": [
                  [
                    "enableCellNavigation",
                    "rowNumbering",
                    "forceFitColumns",
                    "highlightScroll",
                    "forgetLastActive",
                    "editable",
                    "enableAddRow",
                    "autoEdit"
                  ]
                ],
                "copyPaste": [
                  []
                ],
                "copyPasteOptions": [
                  [
                    "newRows"
                  ]
                ],
                "autoColumns": [
                  [
                    "remove"
                  ]
                ],
                "toolbar": [
                  []
                ],
                "colorjpath": [
                  []
                ],
                "slick.defaultColumnWidth": [
                  null
                ],
                "slick.rowHeight": [
                  null
                ],
                "slick.headerRowHeight": [
                  30
                ],
                "slick.selectionModel": [
                  "row"
                ],
                "idProperty": [
                  ""
                ],
                "filterType": [
                  "pref"
                ],
                "filterRow": [
                  "// Documentation: https://github.com/NPellet/visualizer/blob/46b40ca86345f8fa313563bf9c6ecb80ba323101/src/modules/types/edition/slick_grid/view.js#L1695-L1735"
                ],
                "customJpaths": [
                  "from,to,label,description"
                ]
              }
            ],
            "cols": [
              [
                {
                  "name": "Label",
                  "jpath": [
                    "label"
                  ],
                  "editor": "string",
                  "forceType": "",
                  "formatter": "typerenderer",
                  "copyFormatter": "default",
                  "visibility": "both",
                  "rendererOptions": "",
                  "editorOptions": "",
                  "width": 69,
                  "hideColumn": []
                },
                {
                  "name": "From",
                  "jpath": [
                    "from"
                  ],
                  "editor": "number",
                  "forceType": "",
                  "formatter": "typerenderer",
                  "copyFormatter": "default",
                  "visibility": "both",
                  "rendererOptions": "toPrecision: 5",
                  "editorOptions": "",
                  "width": 64,
                  "hideColumn": []
                },
                {
                  "name": "To",
                  "jpath": [
                    "to"
                  ],
                  "editor": "number",
                  "forceType": "",
                  "formatter": "typerenderer",
                  "copyFormatter": "default",
                  "visibility": "both",
                  "rendererOptions": "toPrecision: 5",
                  "editorOptions": "",
                  "width": 57,
                  "hideColumn": []
                }
              ]
            ],
            "actionCols": [
              [
                {
                  "backgroundColor": [
                    255,
                    255,
                    255,
                    0
                  ],
                  "color": [
                    0,
                    0,
                    0,
                    1
                  ],
                  "position": "end",
                  "clickMode": "text"
                }
              ]
            ],
            "groupings": [
              [
                {
                  "getter": []
                }
              ]
            ],
            "actionOutButtons": [
              [
                {}
              ]
            ],
            "data": [
              {
                "saveInView": [
                  []
                ],
                "varname": [
                  ""
                ],
                "data": [
                  "[]"
                ]
              }
            ]
          }
        },
        "layers": {
          "Default layer": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Preferences": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Preferences"
          },
          "Calculations": {
            "position": {
              "left": 104,
              "top": 13
            },
            "size": {
              "width": 35,
              "height": 33
            },
            "zIndex": 0,
            "display": false,
            "title": "List of ranges",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculations"
          },
          "Calculation admin": {
            "position": {
              "left": 63,
              "top": 0
            },
            "size": {
              "width": 35,
              "height": 33
            },
            "zIndex": 0,
            "display": false,
            "title": "List of ranges",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculations"
          },
          "Calculations design": {
            "position": {
              "left": 0,
              "top": 6
            },
            "size": {
              "width": 24,
              "height": 16
            },
            "zIndex": 0,
            "display": true,
            "title": "List of ranges",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculations"
          },
          "Results reporting": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 23,
              "height": 42
            },
            "zIndex": 0,
            "display": false,
            "title": "List of ranges",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculations"
          },
          "SaveLoadResults Admin": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Load and Process": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Load"
          },
          "Test": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          }
        },
        "id": 19,
        "vars_in": [
          {
            "rel": "list",
            "name": "ranges"
          }
        ],
        "actions_in": [
          {}
        ],
        "actions_out": [
          {
            "jpath": []
          }
        ],
        "vars_out": [
          {
            "jpath": []
          }
        ],
        "toolbar": {
          "custom": [
            [
              {
                "title": "",
                "icon": "",
                "action": "",
                "position": "begin",
                "color": [
                  100,
                  100,
                  100,
                  1
                ]
              }
            ]
          ],
          "common": [
            {
              "toolbar": [
                []
              ]
            }
          ]
        },
        "css": [
          {
            "fontSize": [
              ""
            ],
            "fontFamily": [
              ""
            ]
          }
        ],
        "title": "List of ranges",
        "zindex": 2
      },
      {
        "url": "modules/types/client_interaction/code_editor/",
        "configuration": {
          "sections": {},
          "groups": {
            "group": [
              {
                "mode": [
                  "html"
                ],
                "outputType": [
                  null
                ],
                "btnvalue": [
                  "Send script"
                ],
                "iseditable": [
                  [
                    "editable"
                  ]
                ],
                "hasButton": [
                  []
                ],
                "variable": [
                  [
                    "modify"
                  ]
                ],
                "storeOnChange": [
                  []
                ],
                "debouncing": [
                  250
                ],
                "script": [
                  ""
                ]
              }
            ],
            "ace": [
              {
                "useSoftTabs": [
                  [
                    "yes"
                  ]
                ],
                "tabSize": [
                  4
                ]
              }
            ]
          }
        },
        "layers": {
          "Default layer": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Preferences": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Preferences"
          },
          "Calculations": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculations"
          },
          "Calculation admin": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculation admin"
          },
          "Calculations design": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculations design"
          },
          "Results reporting": {
            "position": {
              "left": 0,
              "top": 6
            },
            "size": {
              "width": 78,
              "height": 65
            },
            "zIndex": 0,
            "display": true,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Results reporting"
          },
          "SaveLoadResults Admin": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Load and Process": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Load"
          },
          "Test": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          }
        },
        "id": 20,
        "vars_in": [
          {
            "rel": "data",
            "name": "reportTemplate"
          }
        ],
        "actions_in": [
          {}
        ],
        "vars_out": [
          {
            "jpath": []
          }
        ],
        "actions_out": [
          {
            "jpath": []
          }
        ],
        "toolbar": {
          "custom": [
            [
              {
                "title": "",
                "icon": "",
                "action": "",
                "position": "begin",
                "color": [
                  100,
                  100,
                  100,
                  1
                ]
              }
            ]
          ],
          "common": [
            {
              "toolbar": [
                [
                  "Show fullscreen"
                ]
              ]
            }
          ]
        },
        "css": [
          {
            "fontSize": [
              ""
            ],
            "fontFamily": [
              ""
            ]
          }
        ],
        "title": "",
        "zindex": 2
      },
      {
        "url": "modules/types/display/template-twig/",
        "configuration": {
          "sections": {},
          "groups": {
            "group": [
              {
                "selectable": [
                  []
                ],
                "template": [
                  ""
                ],
                "modifyInForm": [
                  []
                ],
                "debouncing": [
                  0
                ],
                "formOptions": [
                  [
                    "keepFormValueIfDataUndefined"
                  ]
                ]
              }
            ]
          }
        },
        "layers": {
          "Default layer": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Preferences": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Preferences"
          },
          "Calculations": {
            "position": {
              "left": 63,
              "top": 6
            },
            "size": {
              "width": 52,
              "height": 58
            },
            "zIndex": 0,
            "display": true,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculations"
          },
          "Calculation admin": {
            "position": {
              "left": 9,
              "top": 34
            },
            "size": {
              "width": 43,
              "height": 47
            },
            "zIndex": 0,
            "display": true,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculation admin"
          },
          "Calculations design": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculations design"
          },
          "Results reporting": {
            "position": {
              "left": 79,
              "top": 6
            },
            "size": {
              "width": 53,
              "height": 65
            },
            "zIndex": 0,
            "display": true,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Results reporting"
          },
          "SaveLoadResults Admin": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Load and Process": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Load"
          },
          "Test": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          }
        },
        "id": 21,
        "vars_in": [
          {
            "rel": "tpl",
            "name": "reportTemplate"
          },
          {
            "rel": "value",
            "name": "data"
          }
        ],
        "actions_in": [
          {}
        ],
        "vars_out": [
          {
            "jpath": []
          }
        ],
        "actions_out": [
          {
            "jpath": []
          }
        ],
        "toolbar": {
          "custom": [
            [
              {
                "title": "",
                "icon": "",
                "action": "",
                "position": "begin",
                "color": [
                  100,
                  100,
                  100,
                  1
                ]
              }
            ]
          ],
          "common": [
            {
              "toolbar": [
                [
                  "Print",
                  "Show fullscreen"
                ]
              ]
            }
          ]
        },
        "css": [
          {
            "fontSize": [
              ""
            ],
            "fontFamily": [
              ""
            ]
          }
        ],
        "title": "",
        "zindex": 2
      },
      {
        "url": "modules/types/edition/slick_grid/",
        "configuration": {
          "sections": {},
          "groups": {
            "group": [
              {
                "slickCheck": [
                  [
                    "enableCellNavigation",
                    "rowNumbering",
                    "forceFitColumns",
                    "highlightScroll",
                    "forgetLastActive",
                    "editable"
                  ]
                ],
                "copyPaste": [
                  []
                ],
                "copyPasteOptions": [
                  [
                    "newRows"
                  ]
                ],
                "autoColumns": [
                  []
                ],
                "toolbar": [
                  []
                ],
                "colorjpath": [
                  []
                ],
                "slick.defaultColumnWidth": [
                  null
                ],
                "slick.rowHeight": [
                  null
                ],
                "slick.headerRowHeight": [
                  30
                ],
                "slick.selectionModel": [
                  "row"
                ],
                "idProperty": [
                  ""
                ],
                "filterType": [
                  "pref"
                ],
                "filterRow": [
                  "if(this.event === 'renderAction' && (this.column.id === '' || this.column.id === '')) {\n    if(API.cache('userInfo') && String(this.row.item.key[0])===API.cache('userInfo').email) {\n        this.renderOptions.disabled = false;\n    } else {\n        this.renderOptions.disabled = true;\n    }\n}"
                ],
                "customJpaths": [
                  ""
                ]
              }
            ],
            "cols": [
              [
                {
                  "name": "Label",
                  "jpath": [
                    "value",
                    "name"
                  ],
                  "editor": "none",
                  "forceType": "",
                  "formatter": "typerenderer",
                  "copyFormatter": "default",
                  "visibility": "both",
                  "rendererOptions": "",
                  "editorOptions": "",
                  "hideColumn": []
                }
              ]
            ],
            "actionCols": [
              [
                {
                  "name": "",
                  "tooltip": "Delete result",
                  "icon": "fa-trash",
                  "backgroundColor": [
                    255,
                    255,
                    255,
                    0
                  ],
                  "color": [
                    0,
                    0,
                    0,
                    1
                  ],
                  "action": "deleteResultTemplate",
                  "position": "end",
                  "clickMode": "text",
                  "isAction": true
                },
                {
                  "name": "I",
                  "tooltip": "Record information",
                  "icon": "fa-info-circle",
                  "backgroundColor": [
                    255,
                    255,
                    255,
                    0
                  ],
                  "color": [
                    0,
                    0,
                    0,
                    1
                  ],
                  "action": "TemplateInfo",
                  "position": "end",
                  "clickMode": "text",
                  "isAction": true
                },
                {
                  "name": "",
                  "tooltip": "Edit groups",
                  "icon": "fa-users",
                  "backgroundColor": [
                    255,
                    255,
                    255,
                    0
                  ],
                  "color": [
                    0,
                    0,
                    0,
                    1
                  ],
                  "action": "editResultGroups",
                  "position": "end",
                  "clickMode": "text",
                  "isAction": true
                }
              ]
            ],
            "groupings": [
              [
                {
                  "getter": []
                }
              ]
            ],
            "actionOutButtons": [
              [
                {}
              ]
            ],
            "data": [
              {
                "saveInView": [
                  []
                ],
                "varname": [
                  ""
                ],
                "data": [
                  "[]"
                ]
              }
            ]
          }
        },
        "layers": {
          "Default layer": {
            "position": {
              "left": 146,
              "top": 33
            },
            "size": {
              "width": 21,
              "height": 44
            },
            "zIndex": 0,
            "display": true,
            "title": "Load / Save protocols",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Preferences": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "Load / Save protocols",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Preferences"
          },
          "Calculations": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "Load / Save protocols",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculations"
          },
          "Calculation admin": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "Load / Save protocols",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculation admin"
          },
          "Calculations design": {
            "position": {
              "left": 0,
              "top": 23
            },
            "size": {
              "width": 24,
              "height": 48
            },
            "zIndex": 0,
            "display": true,
            "title": "Load / Save protocols",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculations design"
          },
          "Results reporting": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "Load / Save protocols",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Results reporting"
          },
          "SaveLoadResults Admin": {
            "position": {
              "left": 0,
              "top": 11
            },
            "size": {
              "width": 37,
              "height": 35
            },
            "zIndex": 0,
            "display": true,
            "title": "Load / Save protocols",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "SaveLoadResults Admin"
          },
          "Load and Process": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "Load / Save protocols",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Load"
          },
          "Test": {
            "position": {
              "left": 146,
              "top": 33
            },
            "size": {
              "width": 21,
              "height": 44
            },
            "zIndex": 0,
            "display": false,
            "title": "Load / Save protocols",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          }
        },
        "id": 22,
        "vars_in": [
          {
            "rel": "list",
            "name": "analysisTemplates"
          }
        ],
        "actions_in": [
          {}
        ],
        "actions_out": [
          {
            "event": "onRowActive",
            "rel": "row",
            "jpath": [],
            "name": "loadResultTemplate"
          }
        ],
        "vars_out": [
          {
            "event": "onRowActive",
            "rel": "row",
            "jpath": [],
            "name": "currentTemplateResults"
          }
        ],
        "toolbar": {
          "custom": [
            [
              {
                "title": "Save preferences as template",
                "icon": "fa-save",
                "action": "saveResultTemplate",
                "position": "begin",
                "color": [
                  100,
                  100,
                  100,
                  1
                ]
              },
              {
                "title": "Load an example",
                "icon": "fa-dot-circle",
                "action": "loadExample",
                "position": "begin",
                "color": [
                  100,
                  100,
                  100,
                  1
                ]
              }
            ]
          ],
          "common": [
            {
              "toolbar": [
                []
              ]
            }
          ]
        },
        "css": [
          {
            "fontSize": [
              ""
            ],
            "fontFamily": [
              ""
            ]
          }
        ],
        "title": "Load / Save protocols",
        "zindex": 5
      },
      {
        "url": "modules/types/client_interaction/code_executor/",
        "configuration": {
          "sections": {},
          "groups": {
            "group": [
              {
                "display": [
                  [
                    "editor",
                    "buttons"
                  ]
                ],
                "execOnLoad": [
                  []
                ],
                "asyncAwait": [
                  [
                    "top"
                  ]
                ],
                "script": [
                  "if (this.button) { // just used for debug\n    this.action={\n        name:this.button\n    }\n}\n\nconst roc = API.cache('roc');\nconst currentAnalysisResults=API.getData('currentAnalysisResults');\nconst userAnalysisResults=API.cache(\"userAnalysisResults\");\n\nswitch (this.action.name) {\n    case 'TemplateInfo':\n        const record = await roc.get(this.action.value.id);\n        showRecordInfo(record);\n        break;\n    case 'editResultGroups': {\n        editResultGroups(this.action.value);\n        break;   \n    }\n    case 'saveResultTemplate': {\n        let value = (currentAnalysisResults) ? currentAnalysisResults.resurrect().$id[3] : '';\n        let name=await UI.enterValue({\n            label: 'Enter the preference name',\n            buttonLabel: 'Save',\n            value\n        });\n        if (!name) return;\n        let result = await userAnalysisResults.saveTemplate(name, API.getData('preferences').resurrect(), getData());\n        API.doAction('refreshResults');\n        break;\n    }\n    case 'loadExample': {\n        let cdb = new CDB();\n        let data = await cdb.get('upload/example.json');\n        setData(data);\n        break;\n    }\n    case 'refreshResults':\n        await userAnalysisResults.refresh();\n        break;\n    case 'saveAsAttachment': {\n        let json = JSON.stringify(getData());\n        console.log(json);\n        let cdb = new CDB();\n        let data = new Blob([json], {type: 'application/json'});\n        cdb.upload({\n            data,\n            name: 'upload/example.json'\n        });\n        break;\n    }\n    case 'deleteResultTemplate': {\n        let result=await UI.confirm('Are you sure you want to delete this template ?', 'Delete', 'Cancel', {});\n        if (! result) return;\n        await userAnalysisResults.delete(this.action.value);\n        API.doAction('refreshResults');\n        break;\n    }\n    case 'loadResultTemplate': {\n        let result = await userAnalysisResults.loadResult(this.action.value);\n        setData(result);\n        \n        break;\n    }\n    case 'selectResultTemplate':\n        let templates=API.getData('analysisTemplates');\n        if (! templates) {\n            UI.showNotification('Only available when linked to a database','warning');\n            return;\n        }\n        let result = await UI.form(`\n            <div style=\"zoom: 1.5;\">\n                <form>\n                    <p style=\"padding-bottom: 10px\">\n                    Reload one of the previously saved preferences:\n                    </p>\n                    <select name='template'>\n                        ${templates.map( template => {\n                            let key=String(template.$id[3]);\n                            let _id=String(template._id);\n                            return `\n                                <option value=\"${_id}\">${key}</option>\n                            `\n                        })}\n                        \n                    </select>\n                    <input type=\"submit\" value=\"Load preferences\"/>\n                </form>\n            </div>\n        `)\n        \n        if (result.template) {\n            API.doAction('loadResultTemplate', {_id:result.template})\n        }\n        \n        break;\n}\n\nasync function editResultGroups(entry) {\n    const allGroups = []; //API.cache('allGroups');\n    const record = await roc.get(entry.id);\n    console.log(record, allGroups);\n    const x = getChangedGroups(record, allGroups).then(async (result) => {\n        if(!result) return;\n        \n        try {\n        for(let group of result.add) {\n            await roc.addGroup(record, group);\n        }\n        for(let group of result.remove) {\n            await roc.deleteGroup(record, group);\n        }\n        } catch(e) {\n            UI.showNotification(e.message, 'error');\n        }\n    })\n}\n\nfunction setData(result) {\n        API.createData('description', result.description);\n        API.createData('code', result.code);\n        API.createData('reportTemplate', result.reportTemplate);\n        API.createData('preferences', result.preferences);\n        \n        let ranges=API.getData('ranges'); // ranges are manage by rangeManager\n        ranges.length=0;\n        result.ranges.forEach( (range) => ranges.push(range));\n        ranges.triggerChange();\n        \n        window.setTimeout( () => {\n            API.getData('twigPreferences').triggerChange();\n        },2000)\n}\n\nfunction getData() {\n    return {\n        ranges: API.getData('ranges').resurrect(),\n        preferences: API.getData('preferences').resurrect(),\n        description: API.getData('description').resurrect(),\n        code: API.getData('code').resurrect(),\n        reportTemplate: API.getData('reportTemplate').resurrect()\n    }\n}\n"
                ]
              }
            ],
            "libs": [
              [
                {
                  "lib": "vh/eln/Sequence",
                  "alias": "Sequence"
                },
                {
                  "lib": "src/util/couchdbAttachments",
                  "alias": "CDB"
                },
                {
                  "lib": "src/util/ui",
                  "alias": "UI"
                },
                {
                  "lib": "vh/rest-on-couch/getChangedGroups",
                  "alias": "getChangedGroups"
                },
                {
                  "lib": "vh/rest-on-couch/showRecordInfo",
                  "alias": "showRecordInfo"
                }
              ]
            ],
            "buttons": [
              [
                {
                  "name": "saveResult",
                  "label": "Save",
                  "hide": [],
                  "disable": []
                },
                {
                  "name": "deleteResult",
                  "label": "Delete",
                  "hide": [],
                  "disable": []
                },
                {
                  "name": "loadResult",
                  "label": "Load",
                  "hide": [],
                  "disable": []
                },
                {
                  "name": "refreshResults",
                  "label": "Refresh",
                  "hide": [],
                  "disable": []
                },
                {
                  "name": "saveAsAttachment",
                  "label": "Save as demo attachment",
                  "hide": [],
                  "disable": []
                },
                {
                  "name": "loadExample",
                  "label": "Load example from attachment",
                  "hide": [],
                  "disable": []
                }
              ]
            ]
          }
        },
        "layers": {
          "Default layer": {
            "position": {
              "left": 90,
              "top": 43
            },
            "size": {
              "width": 38,
              "height": 39
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": false,
            "created": true,
            "name": "Default layer"
          },
          "Preferences": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Preferences"
          },
          "Calculations": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculations"
          },
          "Calculation admin": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculation admin"
          },
          "Calculations design": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculations design"
          },
          "Results reporting": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Results reporting"
          },
          "SaveLoadResults Admin": {
            "position": {
              "left": 38,
              "top": 0
            },
            "size": {
              "width": 82,
              "height": 67
            },
            "zIndex": 0,
            "display": true,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "SaveLoadResults Admin"
          },
          "Load and Process": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Load"
          },
          "Test": {
            "position": {
              "left": 90,
              "top": 43
            },
            "size": {
              "width": 38,
              "height": 39
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": false,
            "created": true,
            "name": "Default layer"
          }
        },
        "id": 23,
        "vars_in": [
          {}
        ],
        "actions_in": [
          {
            "rel": "execute",
            "name": "saveResultTemplate"
          },
          {
            "rel": "execute",
            "name": "deleteResultTemplate"
          },
          {
            "rel": "execute",
            "name": "loadResultTemplate"
          },
          {
            "rel": "execute",
            "name": "selectResultTemplate"
          },
          {
            "rel": "execute",
            "name": "loadExample"
          },
          {
            "rel": "execute",
            "name": "refreshResults"
          },
          {
            "rel": "execute",
            "name": "editResultGroups"
          },
          {
            "rel": "execute",
            "name": "TemplateInfo"
          }
        ],
        "vars_out": [
          {
            "jpath": []
          }
        ],
        "actions_out": [
          {
            "jpath": []
          }
        ],
        "toolbar": {
          "custom": [
            [
              {
                "title": "",
                "icon": "",
                "action": "",
                "position": "begin",
                "color": [
                  100,
                  100,
                  100,
                  1
                ]
              }
            ]
          ],
          "common": [
            {
              "toolbar": [
                [
                  "Open Preferences"
                ]
              ]
            }
          ]
        },
        "css": [
          {
            "fontSize": [
              ""
            ],
            "fontFamily": [
              ""
            ]
          }
        ],
        "title": "",
        "zindex": 5
      },
      {
        "url": "modules/types/client_interaction/button_action/",
        "configuration": {
          "sections": {},
          "groups": {
            "group": [
              {
                "toggle": [
                  "click"
                ],
                "label": [
                  "Recalculate Results"
                ],
                "onLabel": [
                  "Toggle action off"
                ],
                "offLabel": [
                  "Toggle action on"
                ],
                "title": [
                  ""
                ],
                "css": [
                  "font-size: 11px;\nbackground-color: #E6E6E6;\nborder: 1px solid rgba(0, 0, 0, 0.2);\nheight: 30px;\npadding: .5em 1em;\nfont-weight: bold;"
                ],
                "cssOn": [
                  "font-size: 11px;\nbackground-color: #E6E6E6;\nborder: 1px solid rgba(0, 0, 0, 0.2);\nheight: 30px;\npadding: .5em 1em;\nfont-weight: bold;"
                ],
                "cssOff": [
                  "font-size: 11px;\nbackground-color: #E6E6E6;\nborder: 1px solid rgba(0, 0, 0, 0.2);\nheight: 30px;\npadding: .5em 1em;\nfont-weight: bold;"
                ],
                "startState": [
                  "off"
                ],
                "text": [
                  null
                ],
                "askConfirm": [
                  []
                ],
                "confirmText": [
                  "Are you sure?"
                ],
                "okLabel": [
                  "Ok"
                ],
                "cancelLabel": [
                  "Cancel"
                ],
                "contentType": [
                  "content"
                ],
                "content": [
                  ""
                ],
                "maskOpacity": [
                  0.6
                ]
              }
            ]
          }
        },
        "layers": {
          "Default layer": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Preferences": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Preferences"
          },
          "Calculations": {
            "position": {
              "left": 44,
              "top": 40
            },
            "size": {
              "width": 17,
              "height": 4
            },
            "zIndex": 0,
            "display": true,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": false,
            "created": true,
            "name": "Calculations"
          },
          "Calculation admin": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculation admin"
          },
          "Calculations design": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculations design"
          },
          "Results reporting": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Results reporting"
          },
          "SaveLoadResults Admin": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "SaveLoadResults Admin"
          },
          "Load and Process": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Load"
          },
          "Test": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          }
        },
        "id": 24,
        "vars_in": [],
        "actions_in": [
          {}
        ],
        "actions_out": [
          {
            "event": "onClick",
            "rel": "actionText",
            "jpath": [],
            "name": "CalculateResults"
          }
        ],
        "vars_out": [],
        "toolbar": {
          "custom": [
            [
              {
                "title": "",
                "icon": "",
                "action": "",
                "position": "begin",
                "color": [
                  100,
                  100,
                  100,
                  1
                ]
              }
            ]
          ],
          "common": [
            {
              "toolbar": [
                [
                  "Open Preferences"
                ]
              ]
            }
          ]
        },
        "css": [
          {
            "fontSize": [
              ""
            ],
            "fontFamily": [
              ""
            ]
          }
        ],
        "title": "",
        "zindex": 2
      },
      {
        "url": "modules/types/edition/quill_editor/",
        "configuration": {
          "sections": {},
          "groups": {
            "group": [
              {
                "editable": [
                  [
                    "isEditable"
                  ]
                ],
                "toolbarMode": [
                  "minimal"
                ],
                "debouncing": [
                  0
                ],
                "storeInView": [
                  []
                ],
                "modifyVarIn": [
                  [
                    "yes"
                  ]
                ],
                "className": [
                  "quill"
                ],
                "css": [
                  ".quill {}"
                ]
              }
            ]
          }
        },
        "layers": {
          "Default layer": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Preferences": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Preferences"
          },
          "Calculations": {
            "position": {
              "left": 116,
              "top": 6
            },
            "size": {
              "width": 37,
              "height": 58
            },
            "zIndex": 0,
            "display": true,
            "title": "Free description",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculations"
          },
          "Calculation admin": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculation admin"
          },
          "Calculations design": {
            "position": {
              "left": 139,
              "top": 6
            },
            "size": {
              "width": 34,
              "height": 65
            },
            "zIndex": 0,
            "display": true,
            "title": "Free description",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculations design"
          },
          "Results reporting": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Results reporting"
          },
          "SaveLoadResults Admin": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "SaveLoadResults Admin"
          },
          "Load and Process": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Load"
          },
          "Test": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          }
        },
        "id": 25,
        "vars_in": [
          {
            "rel": "html",
            "name": "description"
          }
        ],
        "actions_in": [
          {}
        ],
        "vars_out": [
          {
            "jpath": []
          }
        ],
        "actions_out": [
          {
            "jpath": []
          }
        ],
        "toolbar": {
          "custom": [
            [
              {
                "title": "",
                "icon": "",
                "action": "",
                "position": "begin",
                "color": [
                  100,
                  100,
                  100,
                  1
                ]
              }
            ]
          ],
          "common": [
            {
              "toolbar": [
                []
              ]
            }
          ]
        },
        "css": [
          {
            "fontSize": [
              ""
            ],
            "fontFamily": [
              ""
            ]
          }
        ],
        "title": "Free description",
        "richtext": "",
        "zindex": 2
      },
      {
        "url": "modules/types/edition/object_editor/",
        "configuration": {
          "sections": {},
          "groups": {
            "group": [
              {
                "editable": [
                  "view"
                ],
                "expanded": [
                  [
                    "expand"
                  ]
                ],
                "storeObject": [
                  []
                ],
                "displayValue": [
                  []
                ],
                "searchBox": [
                  [
                    "search"
                  ]
                ],
                "sendButton": [
                  []
                ],
                "output": [
                  "new"
                ],
                "storedObject": [
                  "{}"
                ]
              }
            ]
          }
        },
        "layers": {
          "Default layer": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Preferences": {
            "position": {
              "left": 109,
              "top": 0
            },
            "size": {
              "width": 45,
              "height": 59
            },
            "zIndex": 0,
            "display": true,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Preferences"
          },
          "Calculations": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculations"
          },
          "Calculation admin": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculation admin"
          },
          "Calculations design": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculations design"
          },
          "Results reporting": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Results reporting"
          },
          "SaveLoadResults Admin": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "SaveLoadResults Admin"
          },
          "Load and Process": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Load"
          },
          "Test": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          }
        },
        "id": 26,
        "vars_in": [
          {
            "rel": "value",
            "name": "preferences"
          }
        ],
        "actions_in": [
          {}
        ],
        "vars_out": [
          {
            "jpath": []
          }
        ],
        "actions_out": [
          {
            "jpath": []
          }
        ],
        "toolbar": {
          "custom": [
            [
              {
                "title": "",
                "icon": "",
                "action": "",
                "position": "begin",
                "color": [
                  100,
                  100,
                  100,
                  1
                ]
              }
            ]
          ],
          "common": [
            {
              "toolbar": [
                [
                  "Open Preferences"
                ]
              ]
            }
          ]
        },
        "css": [
          {
            "fontSize": [
              ""
            ],
            "fontFamily": [
              ""
            ]
          }
        ],
        "title": "",
        "zindex": 2
      },
      {
        "url": "modules/types/client_interaction/code_executor/",
        "configuration": {
          "sections": {},
          "groups": {
            "group": [
              {
                "display": [
                  [
                    "editor",
                    "buttons"
                  ]
                ],
                "execOnLoad": [
                  []
                ],
                "asyncAwait": [
                  [
                    "top"
                  ]
                ],
                "script": [
                  "let value=this.action.value;\n\nswitch (this.action.name) {\n    case 'trackMove': {\n        let displayPreferences = API.getData('preferences').display.resurrect();\n        const trackMove = value.data.chart;\n        if (! trackMove || ! displayPreferences.trackingInfo || displayPreferences.original==='true') {\n            API.createData('trackAnnotations', []);\n            return;\n        }\n        const spectraProcessor=API.cache('spectraProcessor');\n        const annotations=spectraProcessor.getTrackAnnotation(trackMove.indexBefore)\n        API.createData('trackAnnotations', annotations)\n        break;\n    }\n    case 'trackClicked': {\n        if (value.event.altKey && value.event.shiftKey) {\n            let key=Object.keys(value.data)[0];\n            let index=value.data[key].indexClosest;\n            let preferences=API.getData('preferences');\n            preferences.setChildSync(['display','autocorrelationIndex'],Number(index));\n        }\n        break;\n    }\n    case 'downloadNormalizedMatrix':\n        const spectraProcessor = API.cache('spectraProcessor');\n        let tsv=spectraProcessor.getNormalizedTSV();\n        let fileSaver=await API.require('file-saver');\n        var blob = new Blob([tsv], {type: \"text/tab-separated-values;charset=utf-8\"});\n        fileSaver( blob, \"data.tsv\");\n        break;\n    case 'SetSVG':\n        API.createData('svg', this.action.value);\n    default:\n}\n"
                ]
              }
            ],
            "libs": [
              [
                {}
              ]
            ],
            "buttons": [
              [
                {
                  "name": "button1",
                  "label": "Execute",
                  "hide": [],
                  "disable": []
                }
              ]
            ]
          }
        },
        "layers": {
          "Default layer": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "Deal with other actions",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Preferences": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "Deal with other actions",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Preferences"
          },
          "Calculations": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "Deal with other actions",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculations"
          },
          "Calculation admin": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculation admin"
          },
          "Calculations design": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculations design"
          },
          "Results reporting": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Results reporting"
          },
          "SaveLoadResults Admin": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "SaveLoadResults Admin"
          },
          "Load and Process": {
            "position": {
              "left": 5,
              "top": 26
            },
            "size": {
              "width": 80,
              "height": 52
            },
            "zIndex": 0,
            "display": true,
            "title": "Deal with other actions",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Load"
          },
          "Test": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "Deal with other actions",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          }
        },
        "id": 27,
        "vars_in": [
          {}
        ],
        "actions_in": [
          {
            "rel": "execute",
            "name": "downloadNormalizedMatrix"
          },
          {
            "rel": "execute",
            "name": "trackMove"
          },
          {
            "rel": "execute",
            "name": "trackClicked"
          },
          {
            "rel": "execute",
            "name": "SetSVG"
          }
        ],
        "vars_out": [
          {
            "jpath": []
          }
        ],
        "actions_out": [
          {
            "jpath": []
          }
        ],
        "toolbar": {
          "custom": [
            [
              {
                "title": "",
                "icon": "",
                "action": "",
                "position": "begin",
                "color": [
                  100,
                  100,
                  100,
                  1
                ]
              }
            ]
          ],
          "common": [
            {
              "toolbar": [
                [
                  "Open Preferences"
                ]
              ]
            }
          ]
        },
        "css": [
          {
            "fontSize": [
              ""
            ],
            "fontFamily": [
              ""
            ]
          }
        ],
        "title": "Deal with other actions",
        "zindex": 2
      },
      {
        "url": "modules/types/display/template-twig/",
        "configuration": {
          "sections": {},
          "groups": {
            "group": [
              {
                "selectable": [
                  []
                ],
                "template": [
                  "<style>\n    #memoryInfo {\n        font-family: monospace;\n    }\n</style>\n<div id=\"memoryInfo\">\n    <b>Memory</b>: \n    Original data:\n    {{rendertype(memoryInfo.original+0.00001,{numeral:'0 b'})}}\n    - Normalized data: {{rendertype(memoryInfo.normalized,{numeral:'0 b'})}}\n    - Max allowed {{rendertype(memoryInfo.maxMemory,{numeral:'0 b'})}}\n    {% if memoryInfo.keepOriginal %}\n        &nbsp;<b style=\"color: green\">Original data present</b>\n    {% else %}\n        &nbsp;<b style=\"color: red\">Missing original data</b>\n    {% endif %}\n    \n</div>\n"
                ],
                "modifyInForm": [
                  []
                ],
                "debouncing": [
                  0
                ],
                "formOptions": [
                  [
                    "keepFormValueIfDataUndefined"
                  ]
                ]
              }
            ]
          }
        },
        "layers": {
          "Default layer": {
            "position": {
              "left": 29,
              "top": 6
            },
            "size": {
              "width": 79,
              "height": 2
            },
            "zIndex": 0,
            "display": true,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": false,
            "created": true,
            "name": "Default layer"
          },
          "Preferences": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Preferences"
          },
          "Calculations": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculations"
          },
          "Calculation admin": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculation admin"
          },
          "Calculations design": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculations design"
          },
          "Results reporting": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Results reporting"
          },
          "SaveLoadResults Admin": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "SaveLoadResults Admin"
          },
          "Load and Process": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Load"
          },
          "Test": {
            "position": {
              "left": 29,
              "top": 6
            },
            "size": {
              "width": 79,
              "height": 2
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": false,
            "created": true,
            "name": "Default layer"
          }
        },
        "id": 28,
        "vars_in": [
          {
            "rel": "value",
            "name": "memoryInfo"
          }
        ],
        "actions_in": [
          {}
        ],
        "vars_out": [
          {
            "jpath": []
          }
        ],
        "actions_out": [
          {
            "jpath": []
          }
        ],
        "toolbar": {
          "custom": [
            [
              {
                "title": "",
                "icon": "",
                "action": "",
                "position": "begin",
                "color": [
                  100,
                  100,
                  100,
                  1
                ]
              }
            ]
          ],
          "common": [
            {
              "toolbar": [
                []
              ]
            }
          ]
        },
        "css": [
          {
            "fontSize": [
              ""
            ],
            "fontFamily": [
              ""
            ]
          }
        ],
        "title": "",
        "zindex": 1
      },
      {
        "url": "modules/types/client_interaction/code_executor/",
        "configuration": {
          "sections": {},
          "groups": {
            "group": [
              {
                "display": [
                  [
                    "editor",
                    "buttons"
                  ]
                ],
                "execOnLoad": [
                  []
                ],
                "asyncAwait": [
                  [
                    "top"
                  ]
                ],
                "script": [
                  "const getViewInfo = await API.require('vh/util/getViewInfo');\n\nconst viewInfo = await getViewInfo();\n\nconsole.log(viewInfo);\n\nconst roc=API.cache('roc');\n\n\n          \n\nlet results = await roc.query('userAnalysisToc', {\n    mine: false,\n    startkey: ['userAnalysisResults', viewInfo._id, '', '\\u0000'],\n    endkey: ['userAnalysisResults', viewInfo._id, '', '\\uffff'],\n})\n\n\n\nconsole.log(results);\n\n\n"
                ]
              }
            ],
            "libs": [
              [
                {}
              ]
            ],
            "buttons": [
              [
                {
                  "name": "button1",
                  "label": "Execute",
                  "hide": [],
                  "disable": []
                }
              ]
            ]
          }
        },
        "layers": {
          "Default layer": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Preferences": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Preferences"
          },
          "Calculations": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculations"
          },
          "Calculation admin": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculation admin"
          },
          "Calculations design": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculations design"
          },
          "Results reporting": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Results reporting"
          },
          "SaveLoadResults Admin": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "SaveLoadResults Admin"
          },
          "Load and Process": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Load and Process"
          },
          "Test": {
            "position": {
              "left": 40,
              "top": 5
            },
            "size": {
              "width": 73,
              "height": 60
            },
            "zIndex": 0,
            "display": true,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Test"
          }
        },
        "id": 29,
        "vars_in": [
          {}
        ],
        "actions_in": [
          {}
        ],
        "vars_out": [
          {
            "jpath": []
          }
        ],
        "actions_out": [
          {
            "jpath": []
          }
        ],
        "toolbar": {
          "custom": [
            [
              {
                "title": "",
                "icon": "",
                "action": "",
                "position": "begin",
                "color": [
                  100,
                  100,
                  100,
                  1
                ]
              }
            ]
          ],
          "common": [
            {
              "toolbar": [
                [
                  "Open Preferences"
                ]
              ]
            }
          ]
        },
        "css": [
          {
            "fontSize": [
              ""
            ],
            "fontFamily": [
              ""
            ]
          }
        ],
        "title": ""
      },
      {
        "url": "modules/types/client_interaction/code_executor/",
        "configuration": {
          "sections": {},
          "groups": {
            "group": [
              {
                "display": [
                  [
                    "editor",
                    "buttons"
                  ]
                ],
                "execOnLoad": [
                  [
                    "yes"
                  ]
                ],
                "asyncAwait": [
                  [
                    "top"
                  ]
                ],
                "script": [
                  "const twigPreferences=`\n${Prefs.style}\n\n\n<div id='extendedForm'>\n    <form>\n    \n    ${Prefs.dataNormalization}\n\n    ${Prefs.spectraDisplay}\n\n<!--\n    <center>\n         Auto-refresh <input type=\"checkbox\" name=\"display.autorefresh\" checked> \n        or <input type=\"submit\" value=\"Update data and chart\">\n    </center>\n-->\n    </form>\n</div>\n\n\n<script>\n    require(['vh/util/twigAdvancedForm'], function(AF) {\n        AF('extendedForm', {debug:false});\n    });\n</script>\n`;\n\nAPI.createData('twigPreferences', twigPreferences);\n"
                ]
              }
            ],
            "libs": [
              [
                {
                  "lib": "vh/eln/sample/ml/viewsPreferences",
                  "alias": "Prefs"
                }
              ]
            ],
            "buttons": [
              [
                {
                  "name": "button1",
                  "label": "Execute",
                  "hide": [],
                  "disable": []
                }
              ]
            ]
          }
        },
        "layers": {
          "Default layer": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Default layer"
          },
          "Preferences": {
            "position": {
              "left": 0,
              "top": 6
            },
            "size": {
              "width": 61,
              "height": 68
            },
            "zIndex": 0,
            "display": true,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Preferences"
          },
          "Calculations": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculations"
          },
          "Calculation admin": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculation admin"
          },
          "Calculations design": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Calculations design"
          },
          "Results reporting": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Results reporting"
          },
          "SaveLoadResults Admin": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "SaveLoadResults Admin"
          },
          "Load and Process": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Load and Process"
          },
          "Test": {
            "position": {
              "left": 0,
              "top": 0
            },
            "size": {
              "width": 20,
              "height": 20
            },
            "zIndex": 0,
            "display": false,
            "title": "",
            "bgColor": [
              255,
              255,
              255,
              0
            ],
            "wrapper": true,
            "created": true,
            "name": "Test"
          }
        },
        "id": 30,
        "vars_in": [
          {}
        ],
        "actions_in": [
          {}
        ],
        "vars_out": [
          {
            "jpath": []
          }
        ],
        "actions_out": [
          {
            "jpath": []
          }
        ],
        "toolbar": {
          "custom": [
            [
              {
                "title": "",
                "icon": "",
                "action": "",
                "position": "begin",
                "color": [
                  100,
                  100,
                  100,
                  1
                ]
              }
            ]
          ],
          "common": [
            {
              "toolbar": [
                [
                  "Open Preferences"
                ]
              ]
            }
          ]
        },
        "css": [
          {
            "fontSize": [
              ""
            ],
            "fontFamily": [
              ""
            ]
          }
        ],
        "title": ""
      }
    ],
    "variables": [
      {
        "jpath": [
          ""
        ]
      }
    ],
    "aliases": [
      {
        "path": "../../github/cheminfo-js/visualizer-helper/0437fa1700f335d90c797b62b7e1a3dffa85e2cf",
        "alias": "vh"
      },
      {
        "path": "http://localhost:9898/cheminfo-js/visualizer-helper/",
        "alias": "vhxx"
      },
      {
        "path": "../../lib/ml/4.0.0/ml.min",
        "alias": "ML"
      },
      {
        "path": "../../lib/spectra-processor/1.4.0/spectra-processor.min",
        "alias": "SpectraProcessor"
      }
    ],
    "configuration": {
      "title": "Analyse multiple spectra"
    },
    "actionscripts": [
      {
        "sections": {},
        "groups": {
          "action": [
            {
              "name": [
                ""
              ],
              "script": [
                ""
              ]
            }
          ]
        }
      }
    ],
    "init_script": [
      {
        "sections": {},
        "groups": {
          "general": [
            {
              "script": [
                "const [\n    Roc,\n    loadTwig,\n    UserAnalysisResults,\n    Toc,\n    SpectraDataSet,\n    libs,\n    RangesManager,\n] = await API.require([\n    'vh/rest-on-couch/Roc',\n    'vh/eln/templates/loadTwig',\n    'vh/rest-on-couch/UserAnalysisResults',\n    'vh/eln/Toc',\n    'vh/eln/sample/SpectraDataSet',\n    'vh/eln/libs',\n    'vh/eln/sample/RangesManager',\n]);\n\nconst SpectraProcessor = (await API.require('SpectraProcessor')).SpectraProcessor;\nAPI.cache('spectraProcessor', new SpectraProcessor({}));\n\nif((typeof IframeBridge)!=='undefined') {\n    IframeBridge.onMessage(onMessage);\n    IframeBridge.ready();\n}\n\nasync function onMessage(data) {\n    if(data.type === 'tab.data') {\n        var couchDB = data.message.couchDB;\n        var uuid = data.message.uuid;\n        API.cache('couchDB', couchDB);\n        API.cache('uuid', uuid);\n        var roc = new Roc(couchDB);\n        API.cache('roc', roc);\n        roc.getGroupMembership().then(groups => API.cache('allGroups', groups));\n         \n        var userAnalysisResults = new UserAnalysisResults(roc, data.message.uuid);\n        API.cache(\"userAnalysisResults\", userAnalysisResults);\n        userAnalysisResults.refresh();\n        API.createData('description', '');\n        \n        \n        \n        const sampleToc = new Toc(roc);\n        sampleToc.initializeGroupForm();\n        API.cache('sampleToc', sampleToc);\n        \n        const spectraDataSet = new SpectraDataSet(roc, sampleToc);\n        spectraDataSet.initializeAnalysis();\n        API.cache('spectraDataSet', spectraDataSet);\n        \n        API.cache('userInfo', await roc.getUserInfo());\n    }\n}\n\nAPI.createData('spectraInDataset',[]);\n\nconst ranges = await API.createData('ranges', []);\nconst rangesManager = new RangesManager(ranges, {ensureLabel: true});\nAPI.cache('rangesManager', rangesManager);\n\nAPI.createData('preferences', {\n    data: {keep: true},\n    display: {\n        selection: 'selected',\n        original: false,\n        trackingInfo: false,\n        boxplot: false,\n        boxplotOptions: {\n            q13FillColor : '#000',\n            q13FillOpacity : 0.3,\n            q2StrokeColor : '#000',\n            q2StrokeWidth : 3,\n            minMaxFillColor : '#000',\n            minMaxFillOpacity : 0.15\n        },\n        autorefresh: true\n    },\n    normalization: {numberOfPoints: 1024},\n    scale: {\n        method: \"\",\n        targetID: \"\",\n        range: \"Full spectrum\",\n        relative: false\n    }\n});\nAPI.createData('description', '');\nAPI.createData('code', '');\nAPI.createData('codeReport', '');\nAPI.createData('reportTemplate', '');\n\nloadTwig(['org.cheminfo.sampleToc.chemical.default']);\n\nAPI.require('vh/util/tips').then( Tips => {\n    Tips.showTips();\n    Tips.addPageHelp({iconSize:'fa-4x'});\n});\n"
              ]
            }
          ]
        }
      }
    ],
    "custom_filters": [
      {
        "sections": {
          "modules": [
            {
              "sections": {},
              "groups": {
                "modules": [
                  [
                    {}
                  ]
                ]
              }
            }
          ],
          "filtersLib": [
            {
              "sections": {},
              "groups": {
                "filters": [
                  [
                    {}
                  ]
                ]
              }
            }
          ],
          "filters": [
            {
              "sections": {},
              "groups": {
                "filter": [
                  {
                    "name": [
                      null
                    ],
                    "script": [
                      null
                    ]
                  }
                ],
                "libs": [
                  [
                    {}
                  ]
                ]
              }
            }
          ]
        },
        "groups": {}
      }
    ],
    "actionfiles": [
      {
        "sections": {},
        "groups": {
          "action": [
            [
              {}
            ]
          ]
        }
      }
    ]
  }